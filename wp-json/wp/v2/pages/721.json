{"id":721,"date":"2025-08-31T15:46:32","date_gmt":"2025-08-31T15:46:32","guid":{"rendered":"http:\/\/spearheadproperties.local\/?page_id=721"},"modified":"2025-09-03T14:09:46","modified_gmt":"2025-09-03T14:09:46","slug":"tools","status":"publish","type":"page","link":"http:\/\/spearheadproperties.local\/tools\/","title":{"rendered":"Real Estate Tools"},"content":{"rendered":"\t\t<div data-elementor-type=\"wp-page\" data-elementor-id=\"721\" class=\"elementor elementor-721\" data-elementor-post-type=\"page\">\n\t\t\t\t<div data-marvy_enable_drop_animation=\"false\" data-marvy_enable_fancy_rotate=\"false\" data-marvy_enable_flying_object=\"false\" data-marvy_enable_ripples_animation=\"false\" data-marvy_enable_waves_animation=\"false\" data-marvy_enable_rings_animation=\"false\" data-marvy_enable_topology_animation=\"false\" data-marvy_enable_gradient_animation=\"false\" data-marvy_enable_snow_animation=\"false\" data-marvy_enable_firework_animation=\"false\" data-marvy_enable_cloud_animation=\"false\" data-marvy_enable_birds_animation=\"false\" data-marvy_enable_cells_animation=\"false\" data-marvy_enable_dots_animation=\"false\" data-marvy_enable_fog_animation=\"false\" data-marvy_enable_globe_animation=\"false\" data-marvy_enable_halo_animation=\"false\" data-marvy_enable_net_animation=\"false\" data-marvy_enable_trunk_animation=\"false\" data-marvy_enable_fluid_animation=\"false\" data-marvy_enable_digitalStream_animation=\"false\" data-marvy_enable_floating_heart_animation=\"false\" data-marvy_enable_particles_wave_animation=\"false\" data-marvy_enable_dna_animation=\"false\" data-marvy_enable_beyblade_animation=\"false\" class=\"elementor-element elementor-element-ad9af94 e-con-full e-flex e-con e-parent\" data-id=\"ad9af94\" data-element_type=\"container\">\n\t\t\t\t<div class=\"elementor-element elementor-element-01ad17e elementor-hidden-tablet elementor-hidden-mobile elementor-widget elementor-widget-html\" data-id=\"01ad17e\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t\t<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n<meta charset=\"utf-8\" \/>\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" \/>\r\n<title>Real Estate Tools <\/title>\r\n<style>\r\n  :root{\r\n    --bg:#000;\r\n    --bg-elev:#0b0b0f;\r\n    --text:#f6f7fb;\r\n    --muted:#b9bfd1;\r\n    --accent: #9dffea;             \/* neon mint *\/\r\n    --accent-2: #7ab6ff;           \/* cool blue *\/\r\n    --accent-3: #caa8ff;           \/* soft purple *\/\r\n    --danger: #ff7a7a;\r\n    --ok:#6bff95;\r\n    --card-glow: 0 0 0 rgba(0,0,0,0);\r\n    --radius: 18px;\r\n    --shadow: 0 15px 60px rgba(0,0,0,0.55);\r\n    --focus: 0 0 0 3px rgba(157,255,234,0.35);\r\n    --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\r\n    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\",\"Courier New\", monospace;\r\n  }\r\n  @media (prefers-reduced-motion:no-preference){\r\n    :root{ scroll-behavior:smooth}\r\n  }\r\n  *{box-sizing:border-box}\r\n  html,body{height:100%}\r\n  body{\r\n    margin:0; background: radial-gradient(1200px 1200px at 20% 10%, rgba(157,255,234,0.05), transparent 50%),\r\n                     radial-gradient(1000px 1000px at 80% 0%, rgba(122,182,255,0.06), transparent 50%),\r\n                     var(--bg);\r\n    color:var(--text); font-family:var(--font); line-height:1.55;\r\n  }\r\n  .app{\r\n    display:grid; grid-template-columns: 280px 1fr; min-height:100dvh;\r\n  }\r\n  \/* Sidebar *\/\r\n  .side{\r\n    border-right:1px solid rgba(255,255,255,0.06);\r\n    background: linear-gradient(180deg, #000 0%, #07080a 100%);\r\n    padding: 20px 16px; position:sticky; top:0; height:100dvh; overflow:auto;\r\n  }\r\n  .brand{\r\n    display:flex; align-items:center; gap:12px; padding:6px 10px; margin-bottom:14px;\r\n  }\r\n  .brand .logo{\r\n    width:38px; height:38px; border-radius:10px; background:#000; border:1px solid #fff; display:grid; place-items:center;\r\n    box-shadow:0 0 24px rgba(255,255,255,0.05), inset 0 0 10px rgba(255,255,255,0.05);\r\n  }\r\n  .brand .logo::after{ content:\"RE\"; font-weight:800; letter-spacing:1px; color:#fff; font-size:12px}\r\n  .brand .title{font-weight:800; letter-spacing:0.5px}\r\n  .muted{color:var(--muted); font-size:12px;}\r\n\r\n  .nav{\r\n    display:flex; flex-direction:column; gap:8px; margin-top:10px;\r\n  }\r\n  .nav button{\r\n    all:unset; display:flex; align-items:center; gap:12px; padding:12px 14px;\r\n    border-radius:12px; cursor:pointer; color:var(--text);\r\n    border:1px solid rgba(255,255,255,0.06);\r\n    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\r\n    transition: transform .15s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;\r\n  }\r\n  .nav button:hover{ transform:translateY(-1px); border-color:rgba(157,255,234,0.35); box-shadow:0 8px 28px rgba(157,255,234,0.08)}\r\n  .nav button.active{ border-color: rgba(157,255,234,0.55); background: linear-gradient(180deg, rgba(157,255,234,0.08), rgba(157,255,234,0.01)); }\r\n  .nav svg{ width:20px; height:20px; flex:0 0 20px; }\r\n\r\n  \/* Main *\/\r\n  .main{ padding: 28px min(5vw,40px); }\r\n  .page-head{\r\n    display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:16px; margin-bottom:18px;\r\n  }\r\n  .h1{ font-size: clamp(22px, 2.2vw, 30px); font-weight:800; letter-spacing:.2px }\r\n  .chip{\r\n    border:1px dashed rgba(255,255,255,0.16); padding:8px 12px; border-radius:999px; font-size:12px; color:var(--muted);\r\n  }\r\n\r\n  \/* Tool container *\/\r\n  .tool{\r\n    display:none;\r\n    border:1px solid rgba(255,255,255,0.08);\r\n    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\r\n    border-radius: var(--radius);\r\n    box-shadow: var(--shadow);\r\n    padding: clamp(14px, 2vw, 22px);\r\n    animation: fadeIn .3s ease both;\r\n  }\r\n  .tool.active{ display:block }\r\n  @keyframes fadeIn { from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }\r\n\r\n  .tool-head{\r\n    display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px;\r\n  }\r\n  .tool-title{ font-size: clamp(18px, 2vw, 22px); font-weight:700; letter-spacing:.2px }\r\n  .tool-actions{ display:flex; gap:8px; flex-wrap:wrap }\r\n  .btn{\r\n    --glow: var(--accent);\r\n    all:unset; cursor:pointer; user-select:none; padding:10px 14px; border-radius:12px; font-weight:700; letter-spacing:.2px;\r\n    border:1px solid rgba(255,255,255,0.12);\r\n    background:\r\n      radial-gradient(120% 120% at 0% 0%, color-mix(in oklab, var(--glow) 26%, transparent), transparent),\r\n      linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0));\r\n    box-shadow: 0 0 0 rgba(0,0,0,0), inset 0 0 0 rgba(0,0,0,0);\r\n    transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .3s ease;\r\n    white-space:nowrap;\r\n  }\r\n  .btn:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--glow) 35%, white 0%); box-shadow: 0 10px 40px color-mix(in oklab, var(--glow) 15%, transparent) }\r\n  .btn:focus-visible{ outline:none; box-shadow: var(--focus) }\r\n  .btn.gradient{\r\n    position:relative; overflow:hidden;\r\n  }\r\n  .btn.gradient::before{\r\n    content:\"\"; position:absolute; inset:-2px; border-radius:inherit; padding:2px;\r\n    background: conic-gradient(from 180deg at 50% 50%, var(--accent), var(--accent-2), var(--accent-3), var(--accent));\r\n    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);\r\n    -webkit-mask-composite: xor; mask-composite: exclude; opacity:.6; filter: blur(0.8px);\r\n  }\r\n  .btn.small{ padding:8px 10px; font-weight:600 }\r\n\r\n  \/* Form grid *\/\r\n  .grid{\r\n    display:grid; gap:12px; grid-template-columns: repeat(12, 1fr); align-items:end;\r\n  }\r\n  .col-6{ grid-column: span 6 }\r\n  .col-4{ grid-column: span 4 }\r\n  .col-3{ grid-column: span 3 }\r\n  .col-8{ grid-column: span 8 }\r\n  .col-12{ grid-column: 1 \/ -1 }\r\n  @media (max-width: 1100px){\r\n    .app{ grid-template-columns: 78px 1fr }\r\n    .side .muted,.side .title{ display:none }\r\n    .brand{ justify-content:center }\r\n    .nav button{ justify-content:center; padding:10px }\r\n    .nav button span{ display:none }\r\n  }\r\n  @media (max-width: 860px){\r\n    .grid{ grid-template-columns: 1fr 1fr }\r\n    .col-6,.col-4,.col-3,.col-8,.col-12{ grid-column: auto }\r\n    .grid > *:last-child{ grid-column: 1 \/ -1}\r\n    .page-head{ gap:10px }\r\n  }\r\n  @media (max-width: 520px){\r\n    .grid{ grid-template-columns: 1fr }\r\n  }\r\n  label{ display:block; font-size:12px; color:var(--muted); margin: 4px 2px 6px }\r\n  input, select, textarea{\r\n    width:100%;\r\n    padding:12px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);\r\n    background: rgba(255,255,255,0.02); color:var(--text); font-size:14px;\r\n    transition:border-color .2s ease, background .2s ease;\r\n  }\r\n  input::placeholder{ color:#7c8294 }\r\n  input:focus, select:focus, textarea:focus{ outline:none; border-color: rgba(157,255,234,0.55); box-shadow: var(--focus) }\r\n  .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }\r\n  .result{\r\n    border:1px solid rgba(255,255,255,0.10); border-radius:14px; padding:12px; background: rgba(255,255,255,0.02);\r\n    font-variant-numeric: tabular-nums; font-family:var(--mono);\r\n  }\r\n  .result strong{ letter-spacing:.2px }\r\n  .pill{\r\n    display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,0.14);\r\n    background:rgba(255,255,255,0.02); font-size:12px; color:var(--muted);\r\n  }\r\n  .split{\r\n    display:grid; grid-template-columns: 1.1fr .9fr; gap:16px;\r\n  }\r\n  @media (max-width: 1000px){ .split{ grid-template-columns: 1fr } }\r\n\r\n  .table{\r\n    width:100%; border-collapse: collapse; overflow: hidden; border-radius:12px; border:1px solid rgba(255,255,255,0.12); margin-top:10px;\r\n  }\r\n  .table th, .table td{\r\n    padding:10px 12px; border-bottom:1px solid rgba(255,255,255,0.08); font-variant-numeric: tabular-nums; text-align:right;\r\n  }\r\n  .table th:first-child, .table td:first-child{ text-align:left }\r\n  .table thead th{ position:sticky; top:0; background:rgba(255,255,255,0.03); backdrop-filter: blur(6px); z-index:1 }\r\n\r\n  \/* Fullscreen hint *\/\r\n  .fs-hint{ font-size:12px; color:var(--muted) }\r\n\r\n  \/* Mini badge *\/\r\n  .badge{\r\n    display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;\r\n    border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.02);\r\n    font-size:12px; color:var(--muted)\r\n  }\r\n  .kpi{\r\n    display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-top:8px;\r\n  }\r\n  @media (max-width: 720px){ .kpi{ grid-template-columns: 1fr } }\r\n  .kpi .card{\r\n    padding:14px; border:1px solid rgba(255,255,255,0.12); border-radius:14px;\r\n    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\r\n    font-family:var(--mono); font-size:14px;\r\n  }\r\n  .subtle{ color:var(--muted); font-size:12px; margin-top:2px }\r\n\r\n  \/* Help line *\/\r\n  .help{ font-size:12px; color:var(--muted); margin-top:6px }\r\n\r\n  \/* Footer *\/\r\n  .footer{\r\n    margin:18px 0 8px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; color:var(--muted);\r\n    font-size:12px;\r\n  }\r\n<\/style>\r\n<\/head>\r\n<body>\r\n<div class=\"app\" id=\"app\">\r\n  <!-- SIDEBAR -->\r\n  <aside class=\"side\" aria-label=\"Tool Navigation\">\r\n    <div class=\"nav\" id=\"nav\">\r\n      <button class=\"active\" data-target=\"mortgage\" title=\"Mortgage Calculator\" aria-controls=\"mortgage\" aria-selected=\"true\">\r\n        <!-- icon -->\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\"><path d=\"M3 10.5 12 3l9 7.5v9a1.5 1.5 0 0 1-1.5 1.5H4.5A1.5 1.5 0 0 1 3 19.5v-9Z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Mortgage<\/span>\r\n      <\/button>\r\n      <button data-target=\"afford\" title=\"Affordability\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\"><path d=\"M4 6h16M4 12h16M4 18h16\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Affordability<\/span>\r\n      <\/button>\r\n      <button data-target=\"rentbuy\" title=\"Rent vs Buy\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M3 20h8V10H3v10Zm10 0h8V4h-8v16Z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Rent vs Buy<\/span>\r\n      <\/button>\r\n      <button data-target=\"roi\" title=\"ROI \/ Cap Rate\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 20V10m6 10V6m6 14V12m4 8H2\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>ROI & Cap Rate<\/span>\r\n      <\/button>\r\n      <button data-target=\"flip\" title=\"Flip \/ ARV\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 3v6l3-3m-3 3L9 6m11 8a8 8 0 1 1-16 0\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Flip Analyzer<\/span>\r\n      <\/button>\r\n      <button data-target=\"compare\" title=\"Property Compare\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 6h6v12H4zM14 10h6v8h-6z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Compare<\/span>\r\n      <\/button>\r\n      <button data-target=\"convert\" title=\"Converters\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M3 8h10M11 4h10M3 20h10M11 16h10\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Converters<\/span>\r\n      <\/button>\r\n    <\/div>\r\n    <div style=\"margin-top:18px\" class=\"muted\">Tip: every tool supports <strong>Full-Screen<\/strong> for spacious use.<\/div>\r\n  <\/aside>\r\n\r\n  <!-- MAIN -->\r\n  <main class=\"main\">\r\n    <div class=\"page-head\">\r\n      <div class=\"h1\">Real-Estate Toolkit<\/div>\r\n    <\/div>\r\n\r\n    <!-- Mortgage -->\r\n    <section class=\"tool active\" id=\"mortgage\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Mortgage Calculator & Amortization<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"mortgage\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"split\">\r\n        <div>\r\n          <div class=\"grid\">\r\n            <div class=\"col-6\">\r\n              <label>Home Price<\/label>\r\n              <input type=\"number\" inputmode=\"decimal\" id=\"m_price\" placeholder=\"e.g., 2000000\" value=\"2000000\" \/>\r\n            <\/div>\r\n            <div class=\"col-3\">\r\n              <label>Down Payment (%)<\/label>\r\n              <input type=\"number\" id=\"m_dp\" placeholder=\"20\" value=\"20\" \/>\r\n            <\/div>\r\n            <div class=\"col-3\">\r\n              <label>Interest Rate (%\/yr)<\/label>\r\n              <input type=\"number\" id=\"m_rate\" placeholder=\"4.5\" value=\"4.5\" step=\"0.01\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Term (years)<\/label>\r\n              <input type=\"number\" id=\"m_term\" placeholder=\"25\" value=\"25\" \/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Property Tax (annual)<\/label>\r\n              <input type=\"number\" id=\"m_tax\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Insurance (annual)<\/label>\r\n              <input type=\"number\" id=\"m_ins\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>HOA (monthly)<\/label>\r\n              <input type=\"number\" id=\"m_hoa\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-8\">\r\n              <label>Extra Monthly Principal (optional)<\/label>\r\n              <input type=\"number\" id=\"m_extra\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-12 row\">\r\n              <button class=\"btn gradient\" id=\"m_calc\">Calculate<\/button>\r\n              <span class=\"fs-hint\">Press <kbd>Enter<\/kbd> in any field to re-calculate.<\/span>\r\n            <\/div>\r\n          <\/div>\r\n\r\n          <div class=\"kpi\" id=\"m_kpi\">\r\n            <div class=\"card\"><div class=\"subtle\">Monthly Payment<\/div><div id=\"m_out_month\">\u2014<\/div><\/div>\r\n            <div class=\"card\"><div class=\"subtle\">Loan Amount<\/div><div id=\"m_out_loan\">\u2014<\/div><\/div>\r\n            <div class=\"card\"><div class=\"subtle\">Total Interest<\/div><div id=\"m_out_interest\">\u2014<\/div><\/div>\r\n          <\/div>\r\n          <div class=\"help\">Breakdown includes principal & interest + tax\/insurance\/HOA as provided.<\/div>\r\n        <\/div>\r\n\r\n        <div>\r\n          <div class=\"row\">\r\n            <span class=\"badge\">Amortization Schedule<\/span>\r\n            <button class=\"btn small\" id=\"m_export\">Export CSV<\/button>\r\n          <\/div>\r\n          <div style=\"max-height:360px; overflow:auto; margin-top:10px; border-radius:14px;\">\r\n            <table class=\"table\" id=\"m_table\" aria-label=\"Amortization Table\">\r\n              <thead>\r\n                <tr><th>Month<\/th><th>Payment<\/th><th>Principal<\/th><th>Interest<\/th><th>Balance<\/th><\/tr>\r\n              <\/thead>\r\n              <tbody><\/tbody>\r\n            <\/table>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"footer\"><div>Pro tip: use extra principal to see payoff accelerate.<\/div><\/div>\r\n    <\/section>\r\n\r\n    <!-- Affordability -->\r\n    <section class=\"tool\" id=\"afford\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Home Affordability<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"afford\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Annual Income<\/label>\r\n          <input id=\"a_income\" type=\"number\" value=\"360000\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Debts<\/label>\r\n          <input id=\"a_debts\" type=\"number\" value=\"2000\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Down Payment (AED)<\/label>\r\n          <input id=\"a_dp\" type=\"number\" value=\"400000\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Interest Rate (%\/yr)<\/label>\r\n          <input id=\"a_rate\" type=\"number\" step=\"0.01\" value=\"4.5\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Term (years)<\/label>\r\n          <input id=\"a_term\" type=\"number\" value=\"25\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>DTI Target (%)<\/label>\r\n          <input id=\"a_dti\" type=\"number\" value=\"36\" \/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"a_calc\">Calculate<\/button>\r\n          <span class=\"fs-hint\">Uses front-end\/back-end DTI logic simplification.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Max Monthly Payment<\/div><div id=\"a_maxpay\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Max Loan Amount<\/div><div id=\"a_maxloan\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Max Home Price (incl. DP)<\/div><div id=\"a_maxprice\">\u2014<\/div><\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Rent vs Buy -->\r\n    <section class=\"tool\" id=\"rentbuy\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Rent vs Buy (Hold-period Analysis)<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"rentbuy\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Home Price<\/label>\r\n          <input id=\"rb_price\" type=\"number\" value=\"1800000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Down Payment (%)<\/label>\r\n          <input id=\"rb_dp\" type=\"number\" value=\"20\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rate (%\/yr)<\/label>\r\n          <input id=\"rb_rate\" type=\"number\" step=\"0.01\" value=\"4.5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Term (years)<\/label>\r\n          <input id=\"rb_term\" type=\"number\" value=\"25\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Property Tax (annual)<\/label>\r\n          <input id=\"rb_tax\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Insurance (annual)<\/label>\r\n          <input id=\"rb_ins\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>HOA (monthly)<\/label>\r\n          <input id=\"rb_hoa\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Maintenance (% of price \/ yr)<\/label>\r\n          <input id=\"rb_maint\" type=\"number\" value=\"1.0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Home Appreciation (%\/yr)<\/label>\r\n          <input id=\"rb_app\" type=\"number\" value=\"3\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Holding Period (years)<\/label>\r\n          <input id=\"rb_hold\" type=\"number\" value=\"5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Selling Costs (% of final price)<\/label>\r\n          <input id=\"rb_sell\" type=\"number\" value=\"2\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Rent (today)<\/label>\r\n          <input id=\"rb_rent\" type=\"number\" value=\"7000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rent Growth (%\/yr)<\/label>\r\n          <input id=\"rb_rentg\" type=\"number\" value=\"3\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Alt. Investment Return (%\/yr on DP)<\/label>\r\n          <input id=\"rb_return\" type=\"number\" value=\"5\"\/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"rb_calc\">Analyze<\/button>\r\n          <span class=\"fs-hint\">Considers mortgage, T&I, HOA, maintenance, rent growth & opportunity cost.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Total Cost of Owning (Hold)<\/div><div id=\"rb_cost_own\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Total Cost of Renting (Hold)<\/div><div id=\"rb_cost_rent\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Recommendation<\/div><div id=\"rb_reco\">\u2014<\/div><\/div>\r\n      <\/div>\r\n      <div class=\"help\">\u201cCost of Owning\u201d is net of equity gained and sale proceeds (after selling costs). \u201cCost of Renting\u201d includes the opportunity cost of the down payment invested elsewhere.<\/div>\r\n    <\/section>\r\n\r\n    <!-- ROI & Cap Rate -->\r\n    <section class=\"tool\" id=\"roi\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Rental ROI \u2022 NOI \u2022 Cap Rate \u2022 Cash-on-Cash<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"roi\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Purchase Price<\/label>\r\n          <input id=\"r_price\" type=\"number\" value=\"1200000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rehab \/ Make-Ready<\/label>\r\n          <input id=\"r_rehab\" type=\"number\" value=\"60000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Closing Costs<\/label>\r\n          <input id=\"r_close\" type=\"number\" value=\"20000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Rent (gross)<\/label>\r\n          <input id=\"r_rent\" type=\"number\" value=\"6500\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Vacancy (%)<\/label>\r\n          <input id=\"r_vac\" type=\"number\" value=\"5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Mgmt (%)<\/label>\r\n          <input id=\"r_mgmt\" type=\"number\" value=\"8\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Maintenance (%)<\/label>\r\n          <input id=\"r_maint\" type=\"number\" value=\"6\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Taxes (annual)<\/label>\r\n          <input id=\"r_tax\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Insurance (annual)<\/label>\r\n          <input id=\"r_ins\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Loan Amount<\/label>\r\n          <input id=\"r_loan\" type=\"number\" value=\"840000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Interest Rate (%\/yr)<\/label>\r\n          <input id=\"r_rate\" type=\"number\" step=\"0.01\" value=\"4.5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Term (years)<\/label>\r\n          <input id=\"r_term\" type=\"number\" value=\"25\"\/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"r_calc\">Calculate<\/button>\r\n          <span class=\"fs-hint\">Includes debt service for cash-flow & CoC.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">NOI (annual)<\/div><div id=\"r_noi\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Cap Rate<\/div><div id=\"r_cap\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Cash Flow (annual)<\/div><div id=\"r_cf\">\u2014<\/div><\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Cash Invested<\/div><div id=\"r_cashinv\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Cash-on-Cash<\/div><div id=\"r_coc\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Monthly P&I<\/div><div id=\"r_pmt\">\u2014<\/div><\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Flip Analyzer -->\r\n    <section class=\"tool\" id=\"flip\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Flip \/ ARV Profitability<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"flip\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Purchase Price<\/label>\r\n          <input id=\"f_price\" type=\"number\" value=\"900000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rehab Budget<\/label>\r\n          <input id=\"f_rehab\" type=\"number\" value=\"200000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Holding Months<\/label>\r\n          <input id=\"f_months\" type=\"number\" value=\"6\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Holding Costs<\/label>\r\n          <input id=\"f_hold\" type=\"number\" value=\"8000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>ARV (After Repair Value)<\/label>\r\n          <input id=\"f_arv\" type=\"number\" value=\"1300000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Selling Costs (% of ARV)<\/label>\r\n          <input id=\"f_sell\" type=\"number\" value=\"2.5\"\/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"f_calc\">Calculate<\/button>\r\n          <span class=\"fs-hint\">Quick flip feasibility snapshot.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Total Cost (All-in)<\/div><div id=\"f_cost\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Estimated Profit<\/div><div id=\"f_profit\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Profit Margin<\/div><div id=\"f_margin\">\u2014<\/div><\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Property Compare -->\r\n    <section class=\"tool\" id=\"compare\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Property Comparison (3 side-by-side)<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"compare\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <!-- For three properties -->\r\n        <template id=\"propRow\">\r\n          <div class=\"col-4\">\r\n            <label>Label \/ Name<\/label><input type=\"text\" placeholder=\"e.g., Marina Apt A\"\/>\r\n            <label>Price<\/label><input type=\"number\" placeholder=\"e.g., 1500000\" value=\"1500000\"\/>\r\n            <label>Size (sqft)<\/label><input type=\"number\" placeholder=\"e.g., 920\" value=\"900\"\/>\r\n            <label>Monthly Rent<\/label><input type=\"number\" placeholder=\"e.g., 6500\" value=\"6500\"\/>\r\n            <label>Annual Expenses<\/label><input type=\"number\" placeholder=\"e.g., 12000\" value=\"12000\"\/>\r\n          <\/div>\r\n        <\/template>\r\n        <div id=\"compareGrid\" class=\"grid col-12\" style=\"grid-template-columns: repeat(3,1fr); gap:14px\"><\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"c_calc\">Compare<\/button>\r\n          <span class=\"fs-hint\">Shows price\/sqft & rough Cap Rate.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div style=\"margin-top:10px; overflow:auto\">\r\n        <table class=\"table\" id=\"c_table\" aria-label=\"Comparison Table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Property<\/th><th>Price<\/th><th>Size (sqft)<\/th><th>Price\/sqft<\/th><th>Rent (mo)<\/th><th>Expenses (yr)<\/th><th>NOI (yr)<\/th><th>Cap Rate<\/th>\r\n            <\/tr>\r\n          <\/thead>\r\n          <tbody><\/tbody>\r\n        <\/table>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Converters -->\r\n    <section class=\"tool\" id=\"convert\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Handy Converters (Area \u2022 Currency \u2022 ROI)<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"convert\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n\r\n      <div class=\"grid\">\r\n        <div class=\"col-6\">\r\n          <span class=\"badge\">Area<\/span>\r\n          <div class=\"grid\" style=\"margin-top:8px\">\r\n            <div class=\"col-6\">\r\n              <label>Square Feet<\/label>\r\n              <input id=\"cv_sqft\" type=\"number\" value=\"1000\"\/>\r\n            <\/div>\r\n            <div class=\"col-6\">\r\n              <label>Square Meters<\/label>\r\n              <input id=\"cv_sqm\" type=\"number\" value=\"92.903\"\/>\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"help\">Auto-syncs both ways (1 sqm = 10.7639 sqft).<\/div>\r\n        <\/div>\r\n        <div class=\"col-6\">\r\n          <span class=\"badge\">Currency (manual rate)<\/span>\r\n          <div class=\"grid\" style=\"margin-top:8px\">\r\n            <div class=\"col-4\">\r\n              <label>Amount (AED)<\/label>\r\n              <input id=\"cv_aed\" type=\"number\" value=\"100000\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>\u2192 USD at rate<\/label>\r\n              <input id=\"cv_rate\" type=\"number\" value=\"0.2723\" step=\"0.0001\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>USD (calc)<\/label>\r\n              <input id=\"cv_usd\" type=\"number\" value=\"27230\" \/>\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"help\">No live feeds (offline-friendly). Adjust rate as needed.<\/div>\r\n        <\/div>\r\n\r\n        <div class=\"col-12\">\r\n          <span class=\"badge\">Quick ROI (single-period)<\/span>\r\n          <div class=\"grid\" style=\"margin-top:8px\">\r\n            <div class=\"col-4\">\r\n              <label>Investment (Cash In)<\/label>\r\n              <input id=\"cv_invest\" type=\"number\" value=\"200000\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Return (Cash Out)<\/label>\r\n              <input id=\"cv_return\" type=\"number\" value=\"230000\"\/>\r\n            <\/div>\r\n            <div class=\"col-4 row\">\r\n              <button class=\"btn gradient\" id=\"cv_roi_btn\">Compute ROI<\/button>\r\n              <span class=\"pill\">ROI: <strong id=\"cv_roi\">\u2014<\/strong><\/span>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n  <\/main>\r\n<\/div>\r\n\r\n<script>\r\n(() => {\r\n  const $ = sel => document.querySelector(sel);\r\n  const $$ = sel => [...document.querySelectorAll(sel)];\r\n  const fmt = (n) => {\r\n    if (!isFinite(n)) return \"\u2014\";\r\n    return new Intl.NumberFormat(undefined, {maximumFractionDigits:0}).format(n);\r\n  };\r\n  const money = (n, currency=\"AED\") => {\r\n    if (!isFinite(n)) return \"\u2014\";\r\n    return new Intl.NumberFormat(undefined, {style:'currency', currency}).format(n);\r\n  };\r\n  const num = (v) => {\r\n    const n = parseFloat(v); return isNaN(n) ? 0 : n;\r\n  };\r\n\r\n  \/* Navigation *\/\r\n  const nav = $('#nav');\r\n  const tools = $$('.tool');\r\n  nav.addEventListener('click', (e)=>{\r\n    const btn = e.target.closest('button[data-target]');\r\n    if(!btn) return;\r\n    const id = btn.getAttribute('data-target');\r\n    $$('#nav button').forEach(b => b.classList.toggle('active', b===btn));\r\n    tools.forEach(t => t.classList.toggle('active', t.id===id));\r\n    const activeTool = $('#'+id);\r\n    activeTool?.scrollIntoView({behavior:'smooth', block:'start'});\r\n    activeTool?.focus({preventScroll:true});\r\n  });\r\n\r\n  \/* Fullscreen *\/\r\n  document.addEventListener('click', (e)=>{\r\n    const fsBtn = e.target.closest('button[data-action=\"fullscreen\"]');\r\n    if (fsBtn){\r\n      const tool = e.target.closest('.tool');\r\n      if (!document.fullscreenElement) tool?.requestFullscreen?.();\r\n      else document.exitFullscreen?.();\r\n    }\r\n  });\r\n\r\n  \/* Reset per tool *\/\r\n  document.addEventListener('click', (e)=>{\r\n    const resetBtn = e.target.closest('button[data-action=\"reset\"]');\r\n    if(!resetBtn) return;\r\n    const scope = resetBtn.getAttribute('data-scope');\r\n    const wrap = document.getElementById(scope);\r\n    wrap.querySelectorAll('input').forEach(inp => inp.value = inp.defaultValue ?? '');\r\n    \/\/ Trigger any displays to clear\r\n    if(scope==='mortgage'){ m_calc(); }\r\n    if(scope==='afford'){ a_calc(); }\r\n    if(scope==='rentbuy'){ rb_calc(); }\r\n    if(scope==='roi'){ r_calc(); }\r\n    if(scope==='flip'){ f_calc(); }\r\n    if(scope==='compare'){ c_seed(); $('#c_table tbody').innerHTML=''; }\r\n    if(scope==='convert'){ sync_sqft('sqft'); sync_currency('aed'); $('#cv_roi').textContent='\u2014'; }\r\n  });\r\n\r\n  \/* ========== Mortgage ========== *\/\r\n  const m_inputs = ['#m_price','#m_dp','#m_rate','#m_term','#m_tax','#m_ins','#m_hoa','#m_extra'].map($);\r\n  const m_table = $('#m_table tbody');\r\n  function pmt(rate, nper, pv){ \/\/ monthly payment\r\n    if (rate===0) return -(pv \/ nper);\r\n    const r = rate; return -(pv * r) \/ (1 - Math.pow(1+r, -nper));\r\n  }\r\n  function m_buildSchedule(loan, rateYear, termYears, extra){\r\n    const r = rateYear\/100\/12, n = termYears*12;\r\n    const sched = [];\r\n    let bal = loan;\r\n    const basePmt = -pmt(r, n, loan); \/\/ positive\r\n    let month = 1, totalInt = 0;\r\n    while(bal>0 && month<=n+600){\r\n      const interest = bal * r;\r\n      let principal = basePmt - interest + extra;\r\n      if (principal > bal) principal = bal;\r\n      const payment = principal + interest;\r\n      bal = Math.max(0, bal - principal);\r\n      totalInt += interest;\r\n      sched.push({month, payment, principal, interest, balance: bal});\r\n      month++;\r\n      if (bal<=0) break;\r\n    }\r\n    return {sched, basePmt, totalInt};\r\n  }\r\n  function m_calc(){\r\n    const price = num($('#m_price').value);\r\n    const dpPct = num($('#m_dp').value)\/100;\r\n    const rate = num($('#m_rate').value);\r\n    const term = num($('#m_term').value);\r\n    const tax = num($('#m_tax').value);\r\n    const ins = num($('#m_ins').value);\r\n    const hoa = num($('#m_hoa').value);\r\n    const extra = num($('#m_extra').value);\r\n\r\n    const loan = Math.max(0, price*(1-dpPct));\r\n    const {sched, basePmt, totalInt} = m_buildSchedule(loan, rate, term, extra);\r\n    const piti = basePmt + (tax\/12) + (ins\/12) + hoa + extra;\r\n\r\n    $('#m_out_month').textContent = money(piti);\r\n    $('#m_out_loan').textContent = money(loan);\r\n    $('#m_out_interest').textContent = money(totalInt);\r\n\r\n    \/\/ table\r\n    const rows = sched.slice(0, 360); \/\/ keep UI snappy\r\n    m_table.innerHTML = rows.map(r => `<tr>\r\n      <td>${r.month}<\/td>\r\n      <td>${money(r.payment + extra)}<\/td>\r\n      <td>${money(r.principal)}<\/td>\r\n      <td>${money(r.interest)}<\/td>\r\n      <td>${money(r.balance)}<\/td>\r\n    <\/tr>`).join('');\r\n    \/\/ store for CSV\r\n    window.__m_sched = sched;\r\n  }\r\n  $('#m_calc').addEventListener('click', m_calc);\r\n  m_inputs.forEach(i => i.addEventListener('keydown', e=>{ if(e.key==='Enter'){ m_calc(); }}));\r\n  \/\/ Export CSV\r\n  $('#m_export').addEventListener('click', ()=>{\r\n    const sched = window.__m_sched || [];\r\n    let csv = \"Month,Payment,Principal,Interest,Balance\\n\";\r\n    for(const r of sched){\r\n      csv += `${r.month},${(r.payment).toFixed(2)},${(r.principal).toFixed(2)},${(r.interest).toFixed(2)},${(r.balance).toFixed(2)}\\n`;\r\n    }\r\n    const blob = new Blob([csv], {type:'text\/csv'});\r\n    const url = URL.createObjectURL(blob);\r\n    const a = Object.assign(document.createElement('a'), {href:url, download:'amortization.csv'});\r\n    document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);\r\n  });\r\n  m_calc();\r\n\r\n  \/* ========== Affordability ========== *\/\r\n  function a_calc(){\r\n    const income = num($('#a_income').value);\r\n    const debts = num($('#a_debts').value);\r\n    const dp = num($('#a_dp').value);\r\n    const rate = num($('#a_rate').value)\/100\/12;\r\n    const term = num($('#a_term').value)*12;\r\n    const dti = num($('#a_dti').value)\/100;\r\n\r\n    const maxMonthly = Math.max(0, (income\/12)*dti - debts);\r\n    \/\/ invert PMT to get PV\r\n    const pv = rate===0 ? maxMonthly*term : maxMonthly*(1 - Math.pow(1+rate, -term))\/rate;\r\n    const maxLoan = Math.max(0, pv);\r\n    const maxPrice = maxLoan + dp;\r\n\r\n    $('#a_maxpay').textContent = money(maxMonthly);\r\n    $('#a_maxloan').textContent = money(maxLoan);\r\n    $('#a_maxprice').textContent = money(maxPrice);\r\n  }\r\n  $('#a_calc').addEventListener('click', a_calc);\r\n  a_calc();\r\n\r\n  \/* ========== Rent vs Buy ========== *\/\r\n  function rb_monthly(rateY, termY, loan){ return -pmt(rateY\/100\/12, termY*12, loan); }\r\n  function rb_future(value, growth, years){ return value*Math.pow(1+growth, years); }\r\n\r\n  function rb_calc(){\r\n    const price = num($('#rb_price').value);\r\n    const dpPct = num($('#rb_dp').value)\/100;\r\n    const rate = num($('#rb_rate').value);\r\n    const term = num($('#rb_term').value);\r\n    const tax = num($('#rb_tax').value);\r\n    const ins = num($('#rb_ins').value);\r\n    const hoa = num($('#rb_hoa').value);\r\n    const maintPct = num($('#rb_maint').value)\/100;\r\n    const app = num($('#rb_app').value)\/100;\r\n    const hold = num($('#rb_hold').value);\r\n    const sellPct = num($('#rb_sell').value)\/100;\r\n    const rent0 = num($('#rb_rent').value);\r\n    const rentg = num($('#rb_rentg').value)\/100;\r\n    const ret = num($('#rb_return').value)\/100;\r\n\r\n    const loan = price*(1-dpPct);\r\n    const dpCash = price*dpPct;\r\n    const monthlyPI = rb_monthly(rate, term, loan);\r\n    \/\/ Owning costs over hold: PI + T&I + HOA + maint; equity & sale offset\r\n    let ownCost = 0, principalPaid = 0, balance = loan;\r\n    const r = rate\/100\/12, nTotal = Math.min(hold*12, term*12);\r\n    const basePmt = monthlyPI;\r\n    for(let m=1;m<=nTotal;m++){\r\n      const interest = balance*r;\r\n      let principal = basePmt - interest;\r\n      if (principal > balance) principal = balance;\r\n      balance = Math.max(0, balance - principal);\r\n      principalPaid += principal;\r\n      const maintenance = (price*Math.pow(1+app, (m-1)\/12))*maintPct\/12;\r\n      ownCost += basePmt + (tax\/12) + (ins\/12) + hoa + maintenance;\r\n    }\r\n    const priceFuture = rb_future(price, app, hold);\r\n    const saleProceeds = priceFuture*(1-sellPct);\r\n    const equityAtSale = Math.max(0, saleProceeds - balance);\r\n    const netOwnCost = ownCost - equityAtSale; \/\/ cost net of equity realized\r\n\r\n    \/\/ Renting costs: sum of rent series + opportunity cost of DP\r\n    let rentCost = 0;\r\n    for(let y=0;y<hold;y++){\r\n      const rentYear = rent0*Math.pow(1+rentg, y);\r\n      rentCost += rentYear*12;\r\n    }\r\n    const opp = dpCash*Math.pow(1+ret, hold) - dpCash; \/\/ growth you miss if buying\r\n    const totalRentCost = rentCost + opp;\r\n\r\n    $('#rb_cost_own').textContent = money(netOwnCost);\r\n    $('#rb_cost_rent').textContent = money(totalRentCost);\r\n    const diff = totalRentCost - netOwnCost;\r\n    let reco = '\u2014';\r\n    if (diff>0) reco = `Buy is favored by ${money(diff)} over ${hold} yrs`;\r\n    else if (diff<0) reco = `Rent is favored by ${money(-diff)} over ${hold} yrs`;\r\n    else reco = 'Break-even';\r\n    $('#rb_reco').textContent = reco;\r\n  }\r\n  $('#rb_calc').addEventListener('click', rb_calc);\r\n  rb_calc();\r\n\r\n  \/* ========== ROI \/ Cap Rate ========== *\/\r\n  function r_calc(){\r\n    const price = num($('#r_price').value);\r\n    const rehab = num($('#r_rehab').value);\r\n    const close = num($('#r_close').value);\r\n    const rent = num($('#r_rent').value);\r\n    const vac = num($('#r_vac').value)\/100;\r\n    const mgmt = num($('#r_mgmt').value)\/100;\r\n    const maint = num($('#r_maint').value)\/100;\r\n    const tax = num($('#r_tax').value);\r\n    const ins = num($('#r_ins').value);\r\n    const loan = num($('#r_loan').value);\r\n    const rate = num($('#r_rate').value)\/100\/12;\r\n    const term = num($('#r_term').value)*12;\r\n\r\n    const egi = rent*12*(1 - vac); \/\/ effective gross\r\n    const opEx = egi*mgmt + egi*maint + tax + ins;\r\n    const noi = egi - opEx;\r\n\r\n    const pmtVal = -pmt(rate, term, loan);\r\n    const debtService = pmtVal*12;\r\n\r\n    const cashFlow = noi - debtService;\r\n    const totalCost = price + rehab + close;\r\n    const cap = totalCost>0 ? (noi\/totalCost)*100 : 0;\r\n\r\n    const cashInvested = (price + rehab + close) - loan;\r\n    const coc = cashInvested>0 ? (cashFlow\/cashInvested)*100 : 0;\r\n\r\n    $('#r_noi').textContent = money(noi);\r\n    $('#r_cap').textContent = isFinite(cap) ? cap.toFixed(2) + '%' : '\u2014';\r\n    $('#r_cf').textContent = money(cashFlow);\r\n    $('#r_cashinv').textContent = money(cashInvested);\r\n    $('#r_coc').textContent = isFinite(coc) ? coc.toFixed(2) + '%' : '\u2014';\r\n    $('#r_pmt').textContent = money(pmtVal);\r\n  }\r\n  $('#r_calc').addEventListener('click', r_calc);\r\n  r_calc();\r\n\r\n  \/* ========== Flip Analyzer ========== *\/\r\n  function f_calc(){\r\n    const price = num($('#f_price').value);\r\n    const rehab = num($('#f_rehab').value);\r\n    const months = num($('#f_months').value);\r\n    const hold = num($('#f_hold').value);\r\n    const arv = num($('#f_arv').value);\r\n    const sellPct = num($('#f_sell').value)\/100;\r\n\r\n    const sellingCosts = arv*sellPct;\r\n    const totalCost = price + rehab + (hold*months) + sellingCosts;\r\n    const profit = arv - totalCost;\r\n    const margin = arv>0 ? (profit\/arv)*100 : 0;\r\n\r\n    $('#f_cost').textContent = money(totalCost);\r\n    $('#f_profit').textContent = money(profit);\r\n    $('#f_margin').textContent = (isFinite(margin)? margin.toFixed(2):'\u2014') + '%';\r\n  }\r\n  $('#f_calc').addEventListener('click', f_calc);\r\n  f_calc();\r\n\r\n  \/* ========== Comparison ========== *\/\r\n  function c_seed(){\r\n    const grid = $('#compareGrid'); grid.innerHTML='';\r\n    const tpl = $('#propRow');\r\n    for(let i=0;i<3;i++){\r\n      const node = tpl.content.cloneNode(true);\r\n      const wrap = document.createElement('div');\r\n      wrap.appendChild(node);\r\n      \/\/ title badge\r\n      const title = document.createElement('div');\r\n      title.className='badge'; title.style.margin='0 0 8px'; title.textContent = `Property ${i+1}`;\r\n      wrap.prepend(title);\r\n      grid.appendChild(wrap);\r\n    }\r\n  }\r\n  c_seed();\r\n  function c_calc(){\r\n    const rows = Array.from($('#compareGrid').querySelectorAll('div > div'));\r\n    const res = rows.map((col, idx)=>{\r\n      const [name, price, size, rent, exp] = Array.from(col.querySelectorAll('input'));\r\n      const p = num(price.value), s = num(size.value), r = num(rent.value), e = num(exp.value);\r\n      const ppsf = s>0 ? p\/s : 0;\r\n      const egi = r*12;\r\n      const noi = egi - e;\r\n      const cap = p>0 ? (noi\/p)*100 : 0;\r\n      return {name: name.value || `Property ${idx+1}`, price:p, size:s, ppsf, rent:r, exp:e, noi, cap};\r\n    });\r\n    $('#c_table tbody').innerHTML = res.map(o=>`\r\n      <tr>\r\n        <td>${o.name}<\/td>\r\n        <td>${money(o.price)}<\/td>\r\n        <td>${fmt(o.size)}<\/td>\r\n        <td>${money(o.ppsf)}<\/td>\r\n        <td>${money(o.rent)}<\/td>\r\n        <td>${money(o.exp)}<\/td>\r\n        <td>${money(o.noi)}<\/td>\r\n        <td>${isFinite(o.cap)? o.cap.toFixed(2)+'%':'\u2014'}<\/td>\r\n      <\/tr>\r\n    `).join('');\r\n  }\r\n  $('#c_calc').addEventListener('click', c_calc);\r\n\r\n  \/* ========== Converters ========== *\/\r\n  const SQM_TO_SQFT = 10.7639;\r\n  function sync_sqft(source){\r\n    const sqft = $('#cv_sqft'), sqm = $('#cv_sqm');\r\n    if(source==='sqft'){\r\n      const s = num(sqft.value); sqm.value = s \/ SQM_TO_SQFT;\r\n    }else{\r\n      const m = num(sqm.value); sqft.value = m * SQM_TO_SQFT;\r\n    }\r\n  }\r\n  $('#cv_sqft').addEventListener('input', ()=>sync_sqft('sqft'));\r\n  $('#cv_sqm').addEventListener('input', ()=>sync_sqft('sqm'));\r\n  sync_sqft('sqft');\r\n  function sync_currency(source){\r\n    const aed = $('#cv_aed'), rate = $('#cv_rate'), usd = $('#cv_usd');\r\n    const r = num(rate.value)||0;\r\n    if(source==='aed'){ usd.value = (num(aed.value)*r).toFixed(2); }\r\n    else if(source==='usd'){ aed.value = r>0 ? (num(usd.value)\/r).toFixed(2) : 0; }\r\n    else{ \/* rate *\/ usd.value = (num(aed.value)*r).toFixed(2); }\r\n  }\r\n  ['cv_aed','cv_rate'].forEach(id => $('#'+id).addEventListener('input', ()=>sync_currency('aed')));\r\n  $('#cv_usd').addEventListener('input', ()=>sync_currency('usd'));\r\n  sync_currency('aed');\r\n  $('#cv_roi_btn').addEventListener('click', ()=>{\r\n    const inv = num($('#cv_invest').value), ret = num($('#cv_return').value);\r\n    const roi = inv>0 ? ((ret-inv)\/inv)*100 : 0;\r\n    $('#cv_roi').textContent = isFinite(roi) ? roi.toFixed(2)+'%' : '\u2014';\r\n  });\r\n\r\n  \/* Keyboard: Enter re-calculate in active tool *\/\r\n  document.addEventListener('keydown', (e)=>{\r\n    if (e.key!=='Enter') return;\r\n    const active = document.querySelector('.tool.active');\r\n    if (!active) return;\r\n    if (active.id==='mortgage') m_calc();\r\n    if (active.id==='afford') a_calc();\r\n    if (active.id==='rentbuy') rb_calc();\r\n    if (active.id==='roi') r_calc();\r\n    if (active.id==='flip') f_calc();\r\n    if (active.id==='compare') c_calc();\r\n  });\r\n\r\n})();\r\n<\/script>\r\n<\/body>\r\n<\/html>\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t<div data-marvy_enable_drop_animation=\"false\" data-marvy_enable_fancy_rotate=\"false\" data-marvy_enable_flying_object=\"false\" data-marvy_enable_ripples_animation=\"false\" data-marvy_enable_waves_animation=\"false\" data-marvy_enable_rings_animation=\"false\" data-marvy_enable_topology_animation=\"false\" data-marvy_enable_gradient_animation=\"false\" data-marvy_enable_snow_animation=\"false\" data-marvy_enable_firework_animation=\"false\" data-marvy_enable_cloud_animation=\"false\" data-marvy_enable_birds_animation=\"false\" data-marvy_enable_cells_animation=\"false\" data-marvy_enable_dots_animation=\"false\" data-marvy_enable_fog_animation=\"false\" data-marvy_enable_globe_animation=\"false\" data-marvy_enable_halo_animation=\"false\" data-marvy_enable_net_animation=\"false\" data-marvy_enable_trunk_animation=\"false\" data-marvy_enable_fluid_animation=\"false\" data-marvy_enable_digitalStream_animation=\"false\" data-marvy_enable_floating_heart_animation=\"false\" data-marvy_enable_particles_wave_animation=\"false\" data-marvy_enable_dna_animation=\"false\" data-marvy_enable_beyblade_animation=\"false\" class=\"elementor-element elementor-element-a84abb7 e-con-full e-flex e-con e-parent\" data-id=\"a84abb7\" data-element_type=\"container\">\n\t\t\t\t<div class=\"elementor-element elementor-element-fd4a1e4 elementor-hidden-desktop elementor-widget elementor-widget-html\" data-id=\"fd4a1e4\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t\t<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\" \/>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" \/>\n<title>Real Estate Tools \u2022 Black & White (Tablet)<\/title>\n<style>\n  :root{\n    --bg:#000;\n    --bg-elev:#0b0b0f;\n    --text:#f6f7fb;\n    --muted:#b9bfd1;\n    --accent: #9dffea;             \/* neon mint *\/\n    --accent-2: #7ab6ff;           \/* cool blue *\/\n    --accent-3: #caa8ff;           \/* soft purple *\/\n    --danger: #ff7a7a;\n    --ok:#6bff95;\n    --card-glow: 0 0 0 rgba(0,0,0,0);\n    --radius: 18px;\n    --shadow: 0 15px 60px rgba(0,0,0,0.55);\n    --focus: 0 0 0 3px rgba(157,255,234,0.35);\n    --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\n    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\",\"Courier New\", monospace;\n  }\n  @media (prefers-reduced-motion:no-preference){\n    :root{ scroll-behavior:smooth}\n  }\n  *{box-sizing:border-box}\n  html,body{height:100%}\n  body{\n    margin:0; background: radial-gradient(1200px 1200px at 20% 10%, rgba(157,255,234,0.05), transparent 50%),\n                     radial-gradient(1000px 1000px at 80% 0%, rgba(122,182,255,0.06), transparent 50%),\n                     var(--bg);\n    color:var(--text); font-family:var(--font); line-height:1.55;\n  }\n  \/* --- TABLET\/IPAD OPTIMIZED LAYOUT --- *\/\n  .tab-app{\n    display:grid; grid-template-columns: 78px 1fr; min-height:100dvh;\n  }\n  \/* Sidebar *\/\n  .tab-side{\n    border-right:1px solid rgba(255,255,255,0.06);\n    background: linear-gradient(180deg, #000 0%, #07080a 100%);\n    padding: 20px 16px; position:sticky; top:0; height:100dvh; overflow:auto;\n  }\n  .tab-brand{\n    display:flex; align-items:center; gap:12px; padding:6px 10px; margin-bottom:14px;\n    justify-content:center;\n  }\n  .tab-brand .tab-logo{\n    width:38px; height:38px; border-radius:10px; background:#000; border:1px solid #fff; display:grid; place-items:center;\n    box-shadow:0 0 24px rgba(255,255,255,0.05), inset 0 0 10px rgba(255,255,255,0.05);\n  }\n  .tab-brand .tab-logo::after{ content:\"RE\"; font-weight:800; letter-spacing:1px; color:#fff; font-size:12px}\n  .tab-brand .tab-title, .tab-side .tab-muted { display:none }\n  .tab-muted{color:var(--muted); font-size:12px;}\n\n  .tab-nav{\n    display:flex; flex-direction:column; gap:8px; margin-top:10px;\n  }\n  .tab-nav button{\n    all:unset; display:flex; align-items:center; gap:12px; padding:10px;\n    border-radius:12px; cursor:pointer; color:var(--text);\n    border:1px solid rgba(255,255,255,0.06);\n    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\n    transition: transform .15s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;\n    justify-content:center;\n  }\n  .tab-nav button span { display: none; }\n  .tab-nav button:hover{ transform:translateY(-1px); border-color:rgba(157,255,234,0.35); box-shadow:0 8px 28px rgba(157,255,234,0.08)}\n  .tab-nav button.tab-active{ border-color: rgba(157,255,234,0.55); background: linear-gradient(180deg, rgba(157,255,234,0.08), rgba(157,255,234,0.01)); }\n  .tab-nav svg{ width:20px; height:20px; flex:0 0 20px; }\n\n  \/* Main *\/\n  .tab-main{ padding: 28px min(5vw,40px); }\n  .tab-page-head{\n    display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:10px; margin-bottom:18px;\n  }\n  .tab-h1{ font-size: clamp(22px, 2.2vw, 30px); font-weight:800; letter-spacing:.2px }\n  .tab-chip{\n    border:1px dashed rgba(255,255,255,0.16); padding:8px 12px; border-radius:999px; font-size:12px; color:var(--muted);\n  }\n\n  \/* Tool container *\/\n  .tab-tool{\n    display:none;\n    border:1px solid rgba(255,255,255,0.08);\n    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\n    border-radius: var(--radius);\n    box-shadow: var(--shadow);\n    padding: clamp(14px, 2vw, 22px);\n    animation: tab-fadeIn .3s ease both;\n  }\n  .tab-tool.tab-active{ display:block }\n  @keyframes tab-fadeIn { from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }\n\n  .tab-tool-head{\n    display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px;\n  }\n  .tab-tool-title{ font-size: clamp(18px, 2vw, 22px); font-weight:700; letter-spacing:.2px }\n  .tab-tool-actions{ display:flex; gap:8px; flex-wrap:wrap }\n  .tab-btn{\n    --glow: var(--accent);\n    all:unset; cursor:pointer; user-select:none; padding:10px 14px; border-radius:12px; font-weight:700; letter-spacing:.2px;\n    border:1px solid rgba(255,255,255,0.12);\n    background:\n      radial-gradient(120% 120% at 0% 0%, color-mix(in oklab, var(--glow) 26%, transparent), transparent),\n      linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0));\n    box-shadow: 0 0 0 rgba(0,0,0,0), inset 0 0 0 rgba(0,0,0,0);\n    transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .3s ease;\n    white-space:nowrap;\n  }\n  .tab-btn:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--glow) 35%, white 0%); box-shadow: 0 10px 40px color-mix(in oklab, var(--glow) 15%, transparent) }\n  .tab-btn:focus-visible{ outline:none; box-shadow: var(--focus) }\n  .tab-btn.tab-gradient{\n    position:relative; overflow:hidden;\n  }\n  .tab-btn.tab-gradient::before{\n    content:\"\"; position:absolute; inset:-2px; border-radius:inherit; padding:2px;\n    background: conic-gradient(from 180deg at 50% 50%, var(--accent), var(--accent-2), var(--accent-3), var(--accent));\n    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);\n    -webkit-mask-composite: xor; mask-composite: exclude; opacity:.6; filter: blur(0.8px);\n  }\n  .tab-btn.tab-small{ padding:8px 10px; font-weight:600 }\n\n  \/* --- TABLET\/IPAD OPTIMIZED GRID --- *\/\n  .tab-grid{\n    display:grid; gap:12px;\n    grid-template-columns: 1fr 1fr;\n    align-items:end;\n  }\n  .tab-col-6,.tab-col-4,.tab-col-3,.tab-col-8,.tab-col-12{\n    grid-column: auto;\n  }\n  .tab-grid > *:last-child{\n    grid-column: 1 \/ -1;\n  }\n  label{ display:block; font-size:12px; color:var(--muted); margin: 4px 2px 6px }\n  input, select, textarea{\n    width:100%;\n    padding:12px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);\n    background: rgba(255,255,255,0.02); color:var(--text); font-size:14px;\n    transition:border-color .2s ease, background .2s ease;\n  }\n  input::placeholder{ color:#7c8294 }\n  input:focus, select:focus, textarea:focus{ outline:none; border-color: rgba(157,255,234,0.55); box-shadow: var(--focus) }\n  .tab-row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }\n  .tab-result{\n    border:1px solid rgba(255,255,255,0.10); border-radius:14px; padding:12px; background: rgba(255,255,255,0.02);\n    font-variant-numeric: tabular-nums; font-family:var(--mono);\n  }\n  .tab-result strong{ letter-spacing:.2px }\n  .tab-pill{\n    display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,0.14);\n    background:rgba(255,255,255,0.02); font-size:12px; color:var(--muted);\n  }\n  .tab-split{\n    display:grid; grid-template-columns: 1.1fr .9fr; gap:16px;\n  }\n  @media (max-width: 1000px){ .tab-split{ grid-template-columns: 1fr } }\n\n  .tab-table{\n    width:100%; border-collapse: collapse; overflow: hidden; border-radius:12px; border:1px solid rgba(255,255,255,0.12); margin-top:10px;\n  }\n  .tab-table th, .tab-table td{\n    padding:10px 12px; border-bottom:1px solid rgba(255,255,255,0.08); font-variant-numeric: tabular-nums; text-align:right;\n  }\n  .tab-table th:first-child, .tab-table td:first-child{ text-align:left }\n  .tab-table thead th{ position:sticky; top:0; background:rgba(255,255,255,0.03); backdrop-filter: blur(6px); z-index:1 }\n\n  .tab-fs-hint{ font-size:12px; color:var(--muted) }\n  .tab-badge{\n    display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;\n    border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.02);\n    font-size:12px; color:var(--muted)\n  }\n  .tab-kpi{\n    display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-top:8px;\n  }\n  @media (max-width: 720px){ .tab-kpi{ grid-template-columns: 1fr } }\n  .tab-kpi .tab-card{\n    padding:14px; border:1px solid rgba(255,255,255,0.12); border-radius:14px;\n    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\n    font-family:var(--mono); font-size:14px;\n  }\n  .tab-subtle{ color:var(--muted); font-size:12px; margin-top:2px }\n  .tab-help{ font-size:12px; color:var(--muted); margin-top:6px }\n  .tab-footer{\n    margin:18px 0 8px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; color:var(--muted);\n    font-size:12px;\n  }\n<\/style>\n<\/head>\n<body>\n<div class=\"tab-app\" id=\"tab_app\">\n  <!-- SIDEBAR -->\n  <aside class=\"tab-side\" aria-label=\"Tablet Tool Navigation\">\n    <div class=\"tab-brand\">\n        <div class=\"tab-logo\"><\/div>\n    <\/div>\n    <div class=\"tab-nav\" id=\"tab_nav\">\n      <button class=\"tab-active\" data-target=\"tab_mortgage\" title=\"Mortgage Calculator\" aria-controls=\"tab_mortgage\" aria-selected=\"true\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\"><path d=\"M3 10.5 12 3l9 7.5v9a1.5 1.5 0 0 1-1.5 1.5H4.5A1.5 1.5 0 0 1 3 19.5v-9Z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\n        <span>Mortgage<\/span>\n      <\/button>\n      <button data-target=\"tab_afford\" title=\"Affordability\" aria-controls=\"tab_afford\" aria-selected=\"false\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\"><path d=\"M4 6h16M4 12h16M4 18h16\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\n        <span>Affordability<\/span>\n      <\/button>\n      <button data-target=\"tab_rentbuy\" title=\"Rent vs Buy\" aria-controls=\"tab_rentbuy\" aria-selected=\"false\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M3 20h8V10H3v10Zm10 0h8V4h-8v16Z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\n        <span>Rent vs Buy<\/span>\n      <\/button>\n      <button data-target=\"tab_roi\" title=\"ROI \/ Cap Rate\" aria-controls=\"tab_roi\" aria-selected=\"false\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 20V10m6 10V6m6 14V12m4 8H2\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\n        <span>ROI & Cap Rate<\/span>\n      <\/button>\n      <button data-target=\"tab_flip\" title=\"Flip \/ ARV\" aria-controls=\"tab_flip\" aria-selected=\"false\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 3v6l3-3m-3 3L9 6m11 8a8 8 0 1 1-16 0\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\n        <span>Flip Analyzer<\/span>\n      <\/button>\n      <button data-target=\"tab_compare\" title=\"Property Compare\" aria-controls=\"tab_compare\" aria-selected=\"false\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 6h6v12H4zM14 10h6v8h-6z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\n        <span>Compare<\/span>\n      <\/button>\n      <button data-target=\"tab_convert\" title=\"Converters\" aria-controls=\"tab_convert\" aria-selected=\"false\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M3 8h10M11 4h10M3 20h10M11 16h10\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\n        <span>Converters<\/span>\n      <\/button>\n    <\/div>\n    <div style=\"margin-top:18px\" class=\"tab-muted\">Tip: every tool supports <strong>Full-Screen<\/strong> for spacious use.<\/div>\n  <\/aside>\n\n  <!-- MAIN -->\n  <main class=\"tab-main\">\n    <div class=\"tab-page-head\">\n      <div class=\"tab-h1\">Real-Estate Toolkit (Tablet)<\/div>\n    <\/div>\n\n    <!-- Mortgage -->\n    <section class=\"tab-tool tab-active\" id=\"tab_mortgage\" tabindex=\"0\">\n      <div class=\"tab-tool-head\">\n        <div class=\"tab-tool-title\">Mortgage Calculator & Amortization<\/div>\n        <div class=\"tab-tool-actions\">\n          <button class=\"tab-btn tab-gradient\" data-action=\"reset\" data-scope=\"mortgage\">Reset<\/button>\n          <button class=\"tab-btn\" data-action=\"fullscreen\">Full-Screen<\/button>\n        <\/div>\n      <\/div>\n      <div class=\"tab-split\">\n        <div>\n          <div class=\"tab-grid\">\n            <div class=\"tab-col-6\">\n              <label for=\"tab_m_price\">Home Price<\/label>\n              <input type=\"number\" inputmode=\"decimal\" id=\"tab_m_price\" placeholder=\"e.g., 2000000\" value=\"2000000\" \/>\n            <\/div>\n            <div class=\"tab-col-3\">\n              <label for=\"tab_m_dp\">Down Payment (%)<\/label>\n              <input type=\"number\" id=\"tab_m_dp\" placeholder=\"20\" value=\"20\" \/>\n            <\/div>\n            <div class=\"tab-col-3\">\n              <label for=\"tab_m_rate\">Interest Rate (%\/yr)<\/label>\n              <input type=\"number\" id=\"tab_m_rate\" placeholder=\"4.5\" value=\"4.5\" step=\"0.01\"\/>\n            <\/div>\n            <div class=\"tab-col-4\">\n              <label for=\"tab_m_term\">Term (years)<\/label>\n              <input type=\"number\" id=\"tab_m_term\" placeholder=\"25\" value=\"25\" \/>\n            <\/div>\n            <div class=\"tab-col-4\">\n              <label for=\"tab_m_tax\">Property Tax (annual)<\/label>\n              <input type=\"number\" id=\"tab_m_tax\" placeholder=\"0\" value=\"0\" \/>\n            <\/div>\n            <div class=\"tab-col-4\">\n              <label for=\"tab_m_ins\">Insurance (annual)<\/label>\n              <input type=\"number\" id=\"tab_m_ins\" placeholder=\"0\" value=\"0\" \/>\n            <\/div>\n            <div class=\"tab-col-4\">\n              <label for=\"tab_m_hoa\">HOA (monthly)<\/label>\n              <input type=\"number\" id=\"tab_m_hoa\" placeholder=\"0\" value=\"0\" \/>\n            <\/div>\n            <div class=\"tab-col-8\">\n              <label for=\"tab_m_extra\">Extra Monthly Principal (optional)<\/label>\n              <input type=\"number\" id=\"tab_m_extra\" placeholder=\"0\" value=\"0\" \/>\n            <\/div>\n            <div class=\"tab-col-12 tab-row\">\n              <button class=\"tab-btn tab-gradient\" id=\"tab_m_calc\">Calculate<\/button>\n              <span class=\"tab-fs-hint\">Press <kbd>Enter<\/kbd> in any field to re-calculate.<\/span>\n            <\/div>\n          <\/div>\n\n          <div class=\"tab-kpi\" id=\"tab_m_kpi\">\n            <div class=\"tab-card\"><div class=\"tab-subtle\">Monthly Payment<\/div><div id=\"tab_m_out_month\">\u2014<\/div><\/div>\n            <div class=\"tab-card\"><div class=\"tab-subtle\">Loan Amount<\/div><div id=\"tab_m_out_loan\">\u2014<\/div><\/div>\n            <div class=\"tab-card\"><div class=\"tab-subtle\">Total Interest<\/div><div id=\"tab_m_out_interest\">\u2014<\/div><\/div>\n          <\/div>\n          <div class=\"tab-help\">Breakdown includes principal & interest + tax\/insurance\/HOA as provided.<\/div>\n        <\/div>\n\n        <div>\n          <div class=\"tab-row\">\n            <span class=\"tab-badge\">Amortization Schedule<\/span>\n            <button class=\"tab-btn tab-small\" id=\"tab_m_export\">Export CSV<\/button>\n          <\/div>\n          <div style=\"max-height:360px; overflow:auto; margin-top:10px; border-radius:14px;\">\n            <table class=\"tab-table\" id=\"tab_m_table\" aria-label=\"Amortization Table\">\n              <thead>\n                <tr><th>Month<\/th><th>Payment<\/th><th>Principal<\/th><th>Interest<\/th><th>Balance<\/th><\/tr>\n              <\/thead>\n              <tbody><\/tbody>\n            <\/table>\n          <\/div>\n        <\/div>\n      <\/div>\n      <div class=\"tab-footer\"><div>Pro tip: use extra principal to see payoff accelerate.<\/div><\/div>\n    <\/section>\n\n    <!-- Affordability -->\n    <section class=\"tab-tool\" id=\"tab_afford\" tabindex=\"0\">\n      <div class=\"tab-tool-head\">\n        <div class=\"tab-tool-title\">Home Affordability<\/div>\n        <div class=\"tab-tool-actions\">\n          <button class=\"tab-btn tab-gradient\" data-action=\"reset\" data-scope=\"afford\">Reset<\/button>\n          <button class=\"tab-btn\" data-action=\"fullscreen\">Full-Screen<\/button>\n        <\/div>\n      <\/div>\n      <div class=\"tab-grid\">\n        <div class=\"tab-col-4\">\n          <label for=\"tab_a_income\">Annual Income<\/label>\n          <input id=\"tab_a_income\" type=\"number\" value=\"360000\" \/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_a_debts\">Monthly Debts<\/label>\n          <input id=\"tab_a_debts\" type=\"number\" value=\"2000\" \/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_a_dp\">Down Payment (AED)<\/label>\n          <input id=\"tab_a_dp\" type=\"number\" value=\"400000\" \/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_a_rate\">Interest Rate (%\/yr)<\/label>\n          <input id=\"tab_a_rate\" type=\"number\" step=\"0.01\" value=\"4.5\" \/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_a_term\">Term (years)<\/label>\n          <input id=\"tab_a_term\" type=\"number\" value=\"25\" \/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_a_dti\">DTI Target (%)<\/label>\n          <input id=\"tab_a_dti\" type=\"number\" value=\"36\" \/>\n        <\/div>\n        <div class=\"tab-col-12 tab-row\">\n          <button class=\"tab-btn tab-gradient\" id=\"tab_a_calc\">Calculate<\/button>\n          <span class=\"tab-fs-hint\">Uses front-end\/back-end DTI logic simplification.<\/span>\n        <\/div>\n      <\/div>\n      <div class=\"tab-kpi\">\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Max Monthly Payment<\/div><div id=\"tab_a_maxpay\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Max Loan Amount<\/div><div id=\"tab_a_maxloan\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Max Home Price (incl. DP)<\/div><div id=\"tab_a_maxprice\">\u2014<\/div><\/div>\n      <\/div>\n    <\/section>\n\n    <!-- Rent vs Buy -->\n    <section class=\"tab-tool\" id=\"tab_rentbuy\" tabindex=\"0\">\n      <div class=\"tab-tool-head\">\n        <div class=\"tab-tool-title\">Rent vs Buy (Hold-period Analysis)<\/div>\n        <div class=\"tab-tool-actions\">\n          <button class=\"tab-btn tab-gradient\" data-action=\"reset\" data-scope=\"rentbuy\">Reset<\/button>\n          <button class=\"tab-btn\" data-action=\"fullscreen\">Full-Screen<\/button>\n        <\/div>\n      <\/div>\n      <div class=\"tab-grid\">\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_price\">Home Price<\/label>\n          <input id=\"tab_rb_price\" type=\"number\" value=\"1800000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_dp\">Down Payment (%)<\/label>\n          <input id=\"tab_rb_dp\" type=\"number\" value=\"20\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_rate\">Rate (%\/yr)<\/label>\n          <input id=\"tab_rb_rate\" type=\"number\" step=\"0.01\" value=\"4.5\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_term\">Term (years)<\/label>\n          <input id=\"tab_rb_term\" type=\"number\" value=\"25\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_tax\">Property Tax (annual)<\/label>\n          <input id=\"tab_rb_tax\" type=\"number\" value=\"0\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_ins\">Insurance (annual)<\/label>\n          <input id=\"tab_rb_ins\" type=\"number\" value=\"0\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_hoa\">HOA (monthly)<\/label>\n          <input id=\"tab_rb_hoa\" type=\"number\" value=\"0\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_maint\">Maintenance (% of price \/ yr)<\/label>\n          <input id=\"tab_rb_maint\" type=\"number\" value=\"1.0\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_app\">Home Appreciation (%\/yr)<\/label>\n          <input id=\"tab_rb_app\" type=\"number\" value=\"3\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_hold\">Holding Period (years)<\/label>\n          <input id=\"tab_rb_hold\" type=\"number\" value=\"5\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_sell\">Selling Costs (% of final price)<\/label>\n          <input id=\"tab_rb_sell\" type=\"number\" value=\"2\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_rent\">Monthly Rent (today)<\/label>\n          <input id=\"tab_rb_rent\" type=\"number\" value=\"7000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_rentg\">Rent Growth (%\/yr)<\/label>\n          <input id=\"tab_rb_rentg\" type=\"number\" value=\"3\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_rb_return\">Alt. Investment Return (%\/yr on DP)<\/label>\n          <input id=\"tab_rb_return\" type=\"number\" value=\"5\"\/>\n        <\/div>\n        <div class=\"tab-col-12 tab-row\">\n          <button class=\"tab-btn tab-gradient\" id=\"tab_rb_calc\">Analyze<\/button>\n          <span class=\"tab-fs-hint\">Considers mortgage, T&I, HOA, maintenance, rent growth & opportunity cost.<\/span>\n        <\/div>\n      <\/div>\n      <div class=\"tab-kpi\">\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Total Cost of Owning (Hold)<\/div><div id=\"tab_rb_cost_own\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Total Cost of Renting (Hold)<\/div><div id=\"tab_rb_cost_rent\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Recommendation<\/div><div id=\"tab_rb_reco\">\u2014<\/div><\/div>\n      <\/div>\n      <div class=\"tab-help\">\u201cCost of Owning\u201d is net of equity gained and sale proceeds (after selling costs). \u201cCost of Renting\u201d includes the opportunity cost of the down payment invested elsewhere.<\/div>\n    <\/section>\n\n    <!-- ROI & Cap Rate -->\n    <section class=\"tab-tool\" id=\"tab_roi\" tabindex=\"0\">\n      <div class=\"tab-tool-head\">\n        <div class=\"tab-tool-title\">Rental ROI \u2022 NOI \u2022 Cap Rate \u2022 Cash-on-Cash<\/div>\n        <div class=\"tab-tool-actions\">\n          <button class=\"tab-btn tab-gradient\" data-action=\"reset\" data-scope=\"roi\">Reset<\/button>\n          <button class=\"tab-btn\" data-action=\"fullscreen\">Full-Screen<\/button>\n        <\/div>\n      <\/div>\n      <div class=\"tab-grid\">\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_price\">Purchase Price<\/label>\n          <input id=\"tab_r_price\" type=\"number\" value=\"1200000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_rehab\">Rehab \/ Make-Ready<\/label>\n          <input id=\"tab_r_rehab\" type=\"number\" value=\"60000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_close\">Closing Costs<\/label>\n          <input id=\"tab_r_close\" type=\"number\" value=\"20000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_rent\">Monthly Rent (gross)<\/label>\n          <input id=\"tab_r_rent\" type=\"number\" value=\"6500\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_vac\">Vacancy (%)<\/label>\n          <input id=\"tab_r_vac\" type=\"number\" value=\"5\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_mgmt\">Mgmt (%)<\/label>\n          <input id=\"tab_r_mgmt\" type=\"number\" value=\"8\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_maint\">Maintenance (%)<\/label>\n          <input id=\"tab_r_maint\" type=\"number\" value=\"6\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_tax\">Taxes (annual)<\/label>\n          <input id=\"tab_r_tax\" type=\"number\" value=\"0\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_ins\">Insurance (annual)<\/label>\n          <input id=\"tab_r_ins\" type=\"number\" value=\"0\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_loan\">Loan Amount<\/label>\n          <input id=\"tab_r_loan\" type=\"number\" value=\"840000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_rate\">Interest Rate (%\/yr)<\/label>\n          <input id=\"tab_r_rate\" type=\"number\" step=\"0.01\" value=\"4.5\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_r_term\">Term (years)<\/label>\n          <input id=\"tab_r_term\" type=\"number\" value=\"25\"\/>\n        <\/div>\n        <div class=\"tab-col-12 tab-row\">\n          <button class=\"tab-btn tab-gradient\" id=\"tab_r_calc\">Calculate<\/button>\n          <span class=\"tab-fs-hint\">Includes debt service for cash-flow & CoC.<\/span>\n        <\/div>\n      <\/div>\n      <div class=\"tab-kpi\">\n        <div class=\"tab-card\"><div class=\"tab-subtle\">NOI (annual)<\/div><div id=\"tab_r_noi\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Cap Rate<\/div><div id=\"tab_r_cap\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Cash Flow (annual)<\/div><div id=\"tab_r_cf\">\u2014<\/div><\/div>\n      <\/div>\n      <div class=\"tab-kpi\">\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Cash Invested<\/div><div id=\"tab_r_cashinv\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Cash-on-Cash<\/div><div id=\"tab_r_coc\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Monthly P&I<\/div><div id=\"tab_r_pmt\">\u2014<\/div><\/div>\n      <\/div>\n    <\/section>\n\n    <!-- Flip Analyzer -->\n    <section class=\"tab-tool\" id=\"tab_flip\" tabindex=\"0\">\n      <div class=\"tab-tool-head\">\n        <div class=\"tab-tool-title\">Flip \/ ARV Profitability<\/div>\n        <div class=\"tab-tool-actions\">\n          <button class=\"tab-btn tab-gradient\" data-action=\"reset\" data-scope=\"flip\">Reset<\/button>\n          <button class=\"tab-btn\" data-action=\"fullscreen\">Full-Screen<\/button>\n        <\/div>\n      <\/div>\n      <div class=\"tab-grid\">\n        <div class=\"tab-col-4\">\n          <label for=\"tab_f_price\">Purchase Price<\/label>\n          <input id=\"tab_f_price\" type=\"number\" value=\"900000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_f_rehab\">Rehab Budget<\/label>\n          <input id=\"tab_f_rehab\" type=\"number\" value=\"200000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_f_months\">Holding Months<\/label>\n          <input id=\"tab_f_months\" type=\"number\" value=\"6\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_f_hold\">Monthly Holding Costs<\/label>\n          <input id=\"tab_f_hold\" type=\"number\" value=\"8000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_f_arv\">ARV (After Repair Value)<\/label>\n          <input id=\"tab_f_arv\" type=\"number\" value=\"1300000\"\/>\n        <\/div>\n        <div class=\"tab-col-4\">\n          <label for=\"tab_f_sell\">Selling Costs (% of ARV)<\/label>\n          <input id=\"tab_f_sell\" type=\"number\" value=\"2.5\"\/>\n        <\/div>\n        <div class=\"tab-col-12 tab-row\">\n          <button class=\"tab-btn tab-gradient\" id=\"tab_f_calc\">Calculate<\/button>\n          <span class=\"tab-fs-hint\">Quick flip feasibility snapshot.<\/span>\n        <\/div>\n      <\/div>\n      <div class=\"tab-kpi\">\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Total Cost (All-in)<\/div><div id=\"tab_f_cost\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Estimated Profit<\/div><div id=\"tab_f_profit\">\u2014<\/div><\/div>\n        <div class=\"tab-card\"><div class=\"tab-subtle\">Profit Margin<\/div><div id=\"tab_f_margin\">\u2014<\/div><\/div>\n      <\/div>\n    <\/section>\n\n    <!-- Property Compare -->\n    <section class=\"tab-tool\" id=\"tab_compare\" tabindex=\"0\">\n      <div class=\"tab-tool-head\">\n        <div class=\"tab-tool-title\">Property Comparison (3 side-by-side)<\/div>\n        <div class=\"tab-tool-actions\">\n          <button class=\"tab-btn tab-gradient\" data-action=\"reset\" data-scope=\"compare\">Reset<\/button>\n          <button class=\"tab-btn\" data-action=\"fullscreen\">Full-Screen<\/button>\n        <\/div>\n      <\/div>\n      <div class=\"tab-grid\">\n        <template id=\"tab_propRow\">\n          <div class=\"tab-col-4\">\n            <label>Label \/ Name<\/label><input type=\"text\" placeholder=\"e.g., Marina Apt A\"\/>\n            <label>Price<\/label><input type=\"number\" placeholder=\"e.g., 1500000\" value=\"1500000\"\/>\n            <label>Size (sqft)<\/label><input type=\"number\" placeholder=\"e.g., 920\" value=\"900\"\/>\n            <label>Monthly Rent<\/label><input type=\"number\" placeholder=\"e.g., 6500\" value=\"6500\"\/>\n            <label>Annual Expenses<\/label><input type=\"number\" placeholder=\"e.g., 12000\" value=\"12000\"\/>\n          <\/div>\n        <\/template>\n        <div id=\"tab_compareGrid\" class=\"tab-grid tab-col-12\" style=\"grid-template-columns: repeat(3,1fr); gap:14px\"><\/div>\n        <div class=\"tab-col-12 tab-row\">\n          <button class=\"tab-btn tab-gradient\" id=\"tab_c_calc\">Compare<\/button>\n          <span class=\"tab-fs-hint\">Shows price\/sqft & rough Cap Rate.<\/span>\n        <\/div>\n      <\/div>\n      <div style=\"margin-top:10px; overflow:auto\">\n        <table class=\"tab-table\" id=\"tab_c_table\" aria-label=\"Comparison Table\">\n          <thead>\n            <tr>\n              <th>Property<\/th><th>Price<\/th><th>Size (sqft)<\/th><th>Price\/sqft<\/th><th>Rent (mo)<\/th><th>Expenses (yr)<\/th><th>NOI (yr)<\/th><th>Cap Rate<\/th>\n            <\/tr>\n          <\/thead>\n          <tbody><\/tbody>\n        <\/table>\n      <\/div>\n    <\/section>\n\n    <!-- Converters -->\n    <section class=\"tab-tool\" id=\"tab_convert\" tabindex=\"0\">\n      <div class=\"tab-tool-head\">\n        <div class=\"tab-tool-title\">Handy Converters (Area \u2022 Currency \u2022 ROI)<\/div>\n        <div class=\"tab-tool-actions\">\n          <button class=\"tab-btn tab-gradient\" data-action=\"reset\" data-scope=\"convert\">Reset<\/button>\n          <button class=\"tab-btn\" data-action=\"fullscreen\">Full-Screen<\/button>\n        <\/div>\n      <\/div>\n\n      <div class=\"tab-grid\">\n        <div class=\"tab-col-6\">\n          <span class=\"tab-badge\">Area<\/span>\n          <div class=\"tab-grid\" style=\"margin-top:8px\">\n            <div class=\"tab-col-6\">\n              <label for=\"tab_cv_sqft\">Square Feet<\/label>\n              <input id=\"tab_cv_sqft\" type=\"number\" value=\"1000\"\/>\n            <\/div>\n            <div class=\"tab-col-6\">\n              <label for=\"tab_cv_sqm\">Square Meters<\/label>\n              <input id=\"tab_cv_sqm\" type=\"number\" value=\"92.903\"\/>\n            <\/div>\n          <\/div>\n          <div class=\"tab-help\">Auto-syncs both ways (1 sqm = 10.7639 sqft).<\/div>\n        <\/div>\n        <div class=\"tab-col-6\">\n          <span class=\"tab-badge\">Currency (manual rate)<\/span>\n          <div class=\"tab-grid\" style=\"margin-top:8px\">\n            <div class=\"tab-col-4\">\n              <label for=\"tab_cv_aed\">Amount (AED)<\/label>\n              <input id=\"tab_cv_aed\" type=\"number\" value=\"100000\"\/>\n            <\/div>\n            <div class=\"tab-col-4\">\n              <label for=\"tab_cv_rate\">\u2192 USD at rate<\/label>\n              <input id=\"tab_cv_rate\" type=\"number\" value=\"0.2723\" step=\"0.0001\"\/>\n            <\/div>\n            <div class=\"tab-col-4\">\n              <label for=\"tab_cv_usd\">USD (calc)<\/label>\n              <input id=\"tab_cv_usd\" type=\"number\" value=\"27230\" \/>\n            <\/div>\n          <\/div>\n          <div class=\"tab-help\">No live feeds (offline-friendly). Adjust rate as needed.<\/div>\n        <\/div>\n\n        <div class=\"tab-col-12\">\n          <span class=\"tab-badge\">Quick ROI (single-period)<\/span>\n          <div class=\"tab-grid\" style=\"margin-top:8px\">\n            <div class=\"tab-col-4\">\n              <label for=\"tab_cv_invest\">Investment (Cash In)<\/label>\n              <input id=\"tab_cv_invest\" type=\"number\" value=\"200000\"\/>\n            <\/div>\n            <div class=\"tab-col-4\">\n              <label for=\"tab_cv_return\">Return (Cash Out)<\/label>\n              <input id=\"tab_cv_return\" type=\"number\" value=\"230000\"\/>\n            <\/div>\n            <div class=\"tab-col-4 tab-row\">\n              <button class=\"tab-btn tab-gradient\" id=\"tab_cv_roi_btn\">Compute ROI<\/button>\n              <span class=\"tab-pill\">ROI: <strong id=\"tab_cv_roi\">\u2014<\/strong><\/span>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/section>\n\n  <\/main>\n<\/div>\n\n<script>\n(() => {\n  \/\/ Scoped query selectors for the tablet component\n  const tabComp = document.getElementById('tab_app');\n  const $ = sel => tabComp.querySelector(sel);\n  const $$ = sel => [...tabComp.querySelectorAll(sel)];\n\n  const fmt = (n) => {\n    if (!isFinite(n)) return \"\u2014\";\n    return new Intl.NumberFormat(undefined, {maximumFractionDigits:0}).format(n);\n  };\n  const money = (n, currency=\"AED\") => {\n    if (!isFinite(n)) return \"\u2014\";\n    return new Intl.NumberFormat(undefined, {style:'currency', currency}).format(n);\n  };\n  const num = (v) => {\n    const n = parseFloat(v); return isNaN(n) ? 0 : n;\n  };\n\n  \/* Navigation *\/\n  const nav = $('#tab_nav');\n  const tools = $$('.tab-tool');\n  nav.addEventListener('click', (e)=>{\n    const btn = e.target.closest('button[data-target]');\n    if(!btn) return;\n    const id = btn.getAttribute('data-target');\n    $$('#tab_nav button').forEach(b => b.classList.toggle('tab-active', b===btn));\n    tools.forEach(t => t.classList.toggle('tab-active', t.id===id));\n    const activeTool = document.getElementById(id);\n    activeTool?.scrollIntoView({behavior:'smooth', block:'start'});\n    activeTool?.focus({preventScroll:true});\n  });\n\n  \/* Fullscreen *\/\n  tabComp.addEventListener('click', (e)=>{\n    const fsBtn = e.target.closest('button[data-action=\"fullscreen\"]');\n    if (fsBtn){\n      const tool = e.target.closest('.tab-tool');\n      if (!document.fullscreenElement) tool?.requestFullscreen?.();\n      else document.exitFullscreen?.();\n    }\n  });\n\n  \/* Reset per tool *\/\n  tabComp.addEventListener('click', (e)=>{\n    const resetBtn = e.target.closest('button[data-action=\"reset\"]');\n    if(!resetBtn) return;\n    const scope = resetBtn.getAttribute('data-scope');\n    const wrap = document.getElementById('tab_' + scope);\n    if (!wrap) return;\n\n    wrap.querySelectorAll('input').forEach(inp => inp.value = inp.defaultValue ?? '');\n\n    if(scope==='mortgage'){ m_calc(); }\n    if(scope==='afford'){ a_calc(); }\n    if(scope==='rentbuy'){ rb_calc(); }\n    if(scope==='roi'){ r_calc(); }\n    if(scope==='flip'){ f_calc(); }\n    if(scope==='compare'){ c_seed(); $('#tab_c_table tbody').innerHTML=''; }\n    if(scope==='convert'){ sync_sqft('sqft'); sync_currency('aed'); $('#tab_cv_roi').textContent='\u2014'; }\n  });\n\n  \/* ========== Mortgage ========== *\/\n  const m_inputs = ['#tab_m_price','#tab_m_dp','#tab_m_rate','#tab_m_term','#tab_m_tax','#tab_m_ins','#tab_m_hoa','#tab_m_extra'].map($);\n  const m_table = $('#tab_m_table tbody');\n  function pmt(rate, nper, pv){\n    if (rate===0) return -(pv \/ nper);\n    const r = rate; return -(pv * r) \/ (1 - Math.pow(1+r, -nper));\n  }\n  function m_buildSchedule(loan, rateYear, termYears, extra){\n    const r = rateYear\/100\/12, n = termYears*12;\n    const sched = []; let bal = loan;\n    const basePmt = -pmt(r, n, loan);\n    let month = 1, totalInt = 0;\n    while(bal>0 && month<=n+600){\n      const interest = bal * r;\n      let principal = basePmt - interest + extra;\n      if (principal > bal) principal = bal;\n      const payment = principal + interest;\n      bal = Math.max(0, bal - principal);\n      totalInt += interest;\n      sched.push({month, payment, principal, interest, balance: bal});\n      month++;\n      if (bal<=0) break;\n    }\n    return {sched, basePmt, totalInt};\n  }\n  function m_calc(){\n    const price = num($('#tab_m_price').value), dpPct = num($('#tab_m_dp').value)\/100,\n          rate = num($('#tab_m_rate').value), term = num($('#tab_m_term').value),\n          tax = num($('#tab_m_tax').value), ins = num($('#tab_m_ins').value),\n          hoa = num($('#tab_m_hoa').value), extra = num($('#tab_m_extra').value);\n    const loan = Math.max(0, price*(1-dpPct));\n    const {sched, basePmt, totalInt} = m_buildSchedule(loan, rate, term, extra);\n    const piti = basePmt + (tax\/12) + (ins\/12) + hoa + extra;\n    $('#tab_m_out_month').textContent = money(piti);\n    $('#tab_m_out_loan').textContent = money(loan);\n    $('#tab_m_out_interest').textContent = money(totalInt);\n    m_table.innerHTML = sched.slice(0, 360).map(r => `<tr>\n      <td>${r.month}<\/td><td>${money(r.payment + extra)}<\/td><td>${money(r.principal)}<\/td><td>${money(r.interest)}<\/td><td>${money(r.balance)}<\/td>\n    <\/tr>`).join('');\n    window.__tab_m_sched = sched;\n  }\n  $('#tab_m_calc').addEventListener('click', m_calc);\n  m_inputs.forEach(i => i?.addEventListener('keydown', e=>{ if(e.key==='Enter'){ m_calc(); }}));\n  $('#tab_m_export').addEventListener('click', ()=>{\n    const sched = window.__tab_m_sched || [];\n    let csv = \"Month,Payment,Principal,Interest,Balance\\n\";\n    for(const r of sched){ csv += `${r.month},${(r.payment).toFixed(2)},${(r.principal).toFixed(2)},${(r.interest).toFixed(2)},${(r.balance).toFixed(2)}\\n`; }\n    const blob = new Blob([csv], {type:'text\/csv'});\n    const url = URL.createObjectURL(blob);\n    const a = Object.assign(document.createElement('a'), {href:url, download:'amortization.csv'});\n    document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);\n  });\n  m_calc();\n\n  \/* ========== Affordability ========== *\/\n  function a_calc(){\n    const income = num($('#tab_a_income').value), debts = num($('#tab_a_debts').value),\n          dp = num($('#tab_a_dp').value), rate = num($('#tab_a_rate').value)\/100\/12,\n          term = num($('#tab_a_term').value)*12, dti = num($('#tab_a_dti').value)\/100;\n    const maxMonthly = Math.max(0, (income\/12)*dti - debts);\n    const pv = rate===0 ? maxMonthly*term : maxMonthly*(1 - Math.pow(1+rate, -term))\/rate;\n    const maxLoan = Math.max(0, pv);\n    $('#tab_a_maxpay').textContent = money(maxMonthly);\n    $('#tab_a_maxloan').textContent = money(maxLoan);\n    $('#tab_a_maxprice').textContent = money(maxLoan + dp);\n  }\n  $('#tab_a_calc').addEventListener('click', a_calc);\n  a_calc();\n\n  \/* ========== Rent vs Buy ========== *\/\n  function rb_monthly(rateY, termY, loan){ return -pmt(rateY\/100\/12, termY*12, loan); }\n  function rb_future(value, growth, years){ return value*Math.pow(1+growth, years); }\n  function rb_calc(){\n    const price = num($('#tab_rb_price').value), dpPct = num($('#tab_rb_dp').value)\/100,\n          rate = num($('#tab_rb_rate').value), term = num($('#tab_rb_term').value),\n          tax = num($('#tab_rb_tax').value), ins = num($('#tab_rb_ins').value),\n          hoa = num($('#tab_rb_hoa').value), maintPct = num($('#tab_rb_maint').value)\/100,\n          app = num($('#tab_rb_app').value)\/100, hold = num($('#tab_rb_hold').value),\n          sellPct = num($('#tab_rb_sell').value)\/100, rent0 = num($('#tab_rb_rent').value),\n          rentg = num($('#tab_rb_rentg').value)\/100, ret = num($('#tab_rb_return').value)\/100;\n\n    const loan = price*(1-dpPct), dpCash = price*dpPct;\n    const monthlyPI = rb_monthly(rate, term, loan);\n    let ownCost = 0, balance = loan;\n    const r = rate\/100\/12, nTotal = Math.min(hold*12, term*12);\n    for(let m=1;m<=nTotal;m++){\n      const interest = balance*r; let principal = monthlyPI - interest;\n      if (principal > balance) principal = balance;\n      balance = Math.max(0, balance - principal);\n      const maintenance = (price*Math.pow(1+app, (m-1)\/12))*maintPct\/12;\n      ownCost += monthlyPI + (tax\/12) + (ins\/12) + hoa + maintenance;\n    }\n    const priceFuture = rb_future(price, app, hold);\n    const saleProceeds = priceFuture*(1-sellPct);\n    const equityAtSale = Math.max(0, saleProceeds - balance);\n    const netOwnCost = ownCost - equityAtSale;\n    let rentCost = 0;\n    for(let y=0;y<hold;y++){ rentCost += (rent0*Math.pow(1+rentg, y))*12; }\n    const opp = dpCash*Math.pow(1+ret, hold) - dpCash;\n    const totalRentCost = rentCost + opp;\n    $('#tab_rb_cost_own').textContent = money(netOwnCost);\n    $('#tab_rb_cost_rent').textContent = money(totalRentCost);\n    const diff = totalRentCost - netOwnCost;\n    $('#tab_rb_reco').textContent = diff > 0 ? `Buy is favored by ${money(diff)}` : (diff<0 ? `Rent is favored by ${money(-diff)}` : 'Break-even');\n  }\n  $('#tab_rb_calc').addEventListener('click', rb_calc);\n  rb_calc();\n\n  \/* ========== ROI \/ Cap Rate ========== *\/\n  function r_calc(){\n    const price = num($('#tab_r_price').value), rehab = num($('#tab_r_rehab').value),\n          close = num($('#tab_r_close').value), rent = num($('#tab_r_rent').value),\n          vac = num($('#tab_r_vac').value)\/100, mgmt = num($('#tab_r_mgmt').value)\/100,\n          maint = num($('#tab_r_maint').value)\/100, tax = num($('#tab_r_tax').value),\n          ins = num($('#tab_r_ins').value), loan = num($('#tab_r_loan').value),\n          rate = num($('#tab_r_rate').value)\/100\/12, term = num($('#tab_r_term').value)*12;\n    const egi = rent*12*(1 - vac), opEx = egi*mgmt + egi*maint + tax + ins, noi = egi - opEx;\n    const pmtVal = -pmt(rate, term, loan), debtService = pmtVal*12;\n    const cashFlow = noi - debtService, totalCost = price + rehab + close;\n    const cap = totalCost>0 ? (noi\/totalCost)*100 : 0;\n    const cashInvested = totalCost - loan;\n    const coc = cashInvested>0 ? (cashFlow\/cashInvested)*100 : 0;\n    $('#tab_r_noi').textContent = money(noi);\n    $('#tab_r_cap').textContent = isFinite(cap) ? cap.toFixed(2) + '%' : '\u2014';\n    $('#tab_r_cf').textContent = money(cashFlow);\n    $('#tab_r_cashinv').textContent = money(cashInvested);\n    $('#tab_r_coc').textContent = isFinite(coc) ? coc.toFixed(2) + '%' : '\u2014';\n    $('#tab_r_pmt').textContent = money(pmtVal);\n  }\n  $('#tab_r_calc').addEventListener('click', r_calc);\n  r_calc();\n\n  \/* ========== Flip Analyzer ========== *\/\n  function f_calc(){\n    const price = num($('#tab_f_price').value), rehab = num($('#tab_f_rehab').value),\n          months = num($('#tab_f_months').value), hold = num($('#tab_f_hold').value),\n          arv = num($('#tab_f_arv').value), sellPct = num($('#tab_f_sell').value)\/100;\n    const sellingCosts = arv*sellPct;\n    const totalCost = price + rehab + (hold*months) + sellingCosts;\n    const profit = arv - totalCost;\n    const margin = arv>0 ? (profit\/arv)*100 : 0;\n    $('#tab_f_cost').textContent = money(totalCost);\n    $('#tab_f_profit').textContent = money(profit);\n    $('#tab_f_margin').textContent = (isFinite(margin)? margin.toFixed(2):'\u2014') + '%';\n  }\n  $('#tab_f_calc').addEventListener('click', f_calc);\n  f_calc();\n\n  \/* ========== Comparison ========== *\/\n  function c_seed(){\n    const grid = $('#tab_compareGrid'); if(!grid) return; grid.innerHTML='';\n    const tpl = $('#tab_propRow');\n    for(let i=0;i<3;i++){\n      const node = tpl.content.cloneNode(true);\n      const wrap = document.createElement('div'); wrap.appendChild(node);\n      const title = document.createElement('div');\n      title.className='tab-badge'; title.style.margin='0 0 8px'; title.textContent = `Property ${i+1}`;\n      wrap.prepend(title); grid.appendChild(wrap);\n    }\n  }\n  c_seed();\n  function c_calc(){\n    const rows = Array.from($('#tab_compareGrid').querySelectorAll('div > div'));\n    const res = rows.map((col, idx)=>{\n      const [name, price, size, rent, exp] = Array.from(col.querySelectorAll('input'));\n      const p = num(price.value), s = num(size.value), r = num(rent.value), e = num(exp.value);\n      const noi = (r*12) - e, cap = p>0 ? (noi\/p)*100 : 0;\n      return {name: name.value || `Property ${idx+1}`, p, s, ppsf:s>0?p\/s:0, r, e, noi, cap};\n    });\n    $('#tab_c_table tbody').innerHTML = res.map(o=>`<tr>\n      <td>${o.name}<\/td><td>${money(o.p)}<\/td><td>${fmt(o.s)}<\/td><td>${money(o.ppsf)}<\/td>\n      <td>${money(o.r)}<\/td><td>${money(o.e)}<\/td><td>${money(o.noi)}<\/td><td>${isFinite(o.cap)? o.cap.toFixed(2)+'%':'\u2014'}<\/td>\n    <\/tr>`).join('');\n  }\n  $('#tab_c_calc').addEventListener('click', c_calc);\n\n  \/* ========== Converters ========== *\/\n  const SQM_TO_SQFT = 10.7639;\n  const cv_sqft = $('#tab_cv_sqft'), cv_sqm = $('#tab_cv_sqm');\n  function sync_sqft(source){\n    if(source==='sqft'){ cv_sqm.value = (num(cv_sqft.value) \/ SQM_TO_SQFT).toFixed(3); }\n    else{ cv_sqft.value = (num(cv_sqm.value) * SQM_TO_SQFT).toFixed(3); }\n  }\n  cv_sqft.addEventListener('input', ()=>sync_sqft('sqft'));\n  cv_sqm.addEventListener('input', ()=>sync_sqft('sqm'));\n  const cv_aed = $('#tab_cv_aed'), cv_rate = $('#tab_cv_rate'), cv_usd = $('#tab_cv_usd');\n  function sync_currency(source){\n    const r = num(cv_rate.value)||0;\n    if(source==='aed'){ cv_usd.value = (num(cv_aed.value)*r).toFixed(2); }\n    else if(source==='usd'){ cv_aed.value = r>0 ? (num(cv_usd.value)\/r).toFixed(2) : 0; }\n    else{ cv_usd.value = (num(cv_aed.value)*r).toFixed(2); }\n  }\n  [cv_aed, cv_rate].forEach(el => el.addEventListener('input', ()=>sync_currency('aed')));\n  cv_usd.addEventListener('input', ()=>sync_currency('usd'));\n  $('#tab_cv_roi_btn').addEventListener('click', ()=>{\n    const inv = num($('#tab_cv_invest').value), ret = num($('#tab_cv_return').value);\n    const roi = inv>0 ? ((ret-inv)\/inv)*100 : 0;\n    $('#tab_cv_roi').textContent = isFinite(roi) ? roi.toFixed(2)+'%' : '\u2014';\n  });\n  sync_sqft('sqm'); sync_currency('aed');\n\n  \/* Keyboard: Enter re-calculate in active tool *\/\n  tabComp.addEventListener('keydown', (e)=>{\n    if (e.key!=='Enter') return;\n    const active = $('.tab-tool.tab-active');\n    if (!active) return;\n    const activeId = active.id;\n    if (activeId==='tab_mortgage') m_calc();\n    if (activeId==='tab_afford') a_calc();\n    if (activeId==='tab_rentbuy') rb_calc();\n    if (activeId==='tab_roi') r_calc();\n    if (activeId==='tab_flip') f_calc();\n    if (activeId==='tab_compare') c_calc();\n  });\n})();\n<\/script>\n<\/body>\n<\/html>\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t","protected":false},"excerpt":{"rendered":"<p>Real Estate Tools Mortgage Affordability Rent vs Buy ROI &#038; Cap Rate Flip Analyzer Compare Converters Tip: every tool supports Full-Screen for spacious use. Real-Estate Toolkit Mortgage Calculator &#038; Amortization Reset Full-Screen Home Price Down Payment (%) Interest Rate (%\/yr) Term (years) Property Tax (annual)&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"elementor_header_footer","meta":{"footnotes":""},"class_list":["post-721","page","type-page","status-publish","hentry"],"_links":{"self":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages\/721","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/comments?post=721"}],"version-history":[{"count":58,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages\/721\/revisions"}],"predecessor-version":[{"id":906,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages\/721\/revisions\/906"}],"wp:attachment":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/media?parent=721"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}
{"id":721,"date":"2025-08-31T15:46:32","date_gmt":"2025-08-31T15:46:32","guid":{"rendered":"http:\/\/spearheadproperties.local\/?page_id=721"},"modified":"2025-09-01T06:17:02","modified_gmt":"2025-09-01T06:17:02","slug":"tools","status":"publish","type":"page","link":"http:\/\/spearheadproperties.local\/tools\/","title":{"rendered":"Real Estate Tools"},"content":{"rendered":"\t\t<div data-elementor-type=\"wp-page\" data-elementor-id=\"721\" class=\"elementor elementor-721\" data-elementor-post-type=\"page\">\n\t\t\t\t<div class=\"elementor-element elementor-element-ad9af94 e-con-full e-flex e-con e-parent\" data-id=\"ad9af94\" data-element_type=\"container\">\n\t\t\t\t<div class=\"elementor-element elementor-element-01ad17e elementor-hidden-tablet elementor-hidden-mobile elementor-widget elementor-widget-html\" data-id=\"01ad17e\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t\t<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n<meta charset=\"utf-8\" \/>\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" \/>\r\n<title>Real Estate Tools <\/title>\r\n<style>\r\n  :root{\r\n    --bg:#000;\r\n    --bg-elev:#0b0b0f;\r\n    --text:#f6f7fb;\r\n    --muted:#b9bfd1;\r\n    --accent: #9dffea;             \/* neon mint *\/\r\n    --accent-2: #7ab6ff;           \/* cool blue *\/\r\n    --accent-3: #caa8ff;           \/* soft purple *\/\r\n    --danger: #ff7a7a;\r\n    --ok:#6bff95;\r\n    --card-glow: 0 0 0 rgba(0,0,0,0);\r\n    --radius: 18px;\r\n    --shadow: 0 15px 60px rgba(0,0,0,0.55);\r\n    --focus: 0 0 0 3px rgba(157,255,234,0.35);\r\n    --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\r\n    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\",\"Courier New\", monospace;\r\n  }\r\n  @media (prefers-reduced-motion:no-preference){\r\n    :root{ scroll-behavior:smooth}\r\n  }\r\n  *{box-sizing:border-box}\r\n  html,body{height:100%}\r\n  body{\r\n    margin:0; background: radial-gradient(1200px 1200px at 20% 10%, rgba(157,255,234,0.05), transparent 50%),\r\n                     radial-gradient(1000px 1000px at 80% 0%, rgba(122,182,255,0.06), transparent 50%),\r\n                     var(--bg);\r\n    color:var(--text); font-family:var(--font); line-height:1.55;\r\n  }\r\n  .app{\r\n    display:grid; grid-template-columns: 280px 1fr; min-height:100dvh;\r\n  }\r\n  \/* Sidebar *\/\r\n  .side{\r\n    border-right:1px solid rgba(255,255,255,0.06);\r\n    background: linear-gradient(180deg, #000 0%, #07080a 100%);\r\n    padding: 20px 16px; position:sticky; top:0; height:100dvh; overflow:auto;\r\n  }\r\n  .brand{\r\n    display:flex; align-items:center; gap:12px; padding:6px 10px; margin-bottom:14px;\r\n  }\r\n  .brand .logo{\r\n    width:38px; height:38px; border-radius:10px; background:#000; border:1px solid #fff; display:grid; place-items:center;\r\n    box-shadow:0 0 24px rgba(255,255,255,0.05), inset 0 0 10px rgba(255,255,255,0.05);\r\n  }\r\n  .brand .logo::after{ content:\"RE\"; font-weight:800; letter-spacing:1px; color:#fff; font-size:12px}\r\n  .brand .title{font-weight:800; letter-spacing:0.5px}\r\n  .muted{color:var(--muted); font-size:12px;}\r\n\r\n  .nav{\r\n    display:flex; flex-direction:column; gap:8px; margin-top:10px;\r\n  }\r\n  .nav button{\r\n    all:unset; display:flex; align-items:center; gap:12px; padding:12px 14px;\r\n    border-radius:12px; cursor:pointer; color:var(--text);\r\n    border:1px solid rgba(255,255,255,0.06);\r\n    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\r\n    transition: transform .15s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;\r\n  }\r\n  .nav button:hover{ transform:translateY(-1px); border-color:rgba(157,255,234,0.35); box-shadow:0 8px 28px rgba(157,255,234,0.08)}\r\n  .nav button.active{ border-color: rgba(157,255,234,0.55); background: linear-gradient(180deg, rgba(157,255,234,0.08), rgba(157,255,234,0.01)); }\r\n  .nav svg{ width:20px; height:20px; flex:0 0 20px; }\r\n\r\n  \/* Main *\/\r\n  .main{ padding: 28px min(5vw,40px); }\r\n  .page-head{\r\n    display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:16px; margin-bottom:18px;\r\n  }\r\n  .h1{ font-size: clamp(22px, 2.2vw, 30px); font-weight:800; letter-spacing:.2px }\r\n  .chip{\r\n    border:1px dashed rgba(255,255,255,0.16); padding:8px 12px; border-radius:999px; font-size:12px; color:var(--muted);\r\n  }\r\n\r\n  \/* Tool container *\/\r\n  .tool{\r\n    display:none;\r\n    border:1px solid rgba(255,255,255,0.08);\r\n    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\r\n    border-radius: var(--radius);\r\n    box-shadow: var(--shadow);\r\n    padding: clamp(14px, 2vw, 22px);\r\n    animation: fadeIn .3s ease both;\r\n  }\r\n  .tool.active{ display:block }\r\n  @keyframes fadeIn { from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }\r\n\r\n  .tool-head{\r\n    display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px;\r\n  }\r\n  .tool-title{ font-size: clamp(18px, 2vw, 22px); font-weight:700; letter-spacing:.2px }\r\n  .tool-actions{ display:flex; gap:8px; flex-wrap:wrap }\r\n  .btn{\r\n    --glow: var(--accent);\r\n    all:unset; cursor:pointer; user-select:none; padding:10px 14px; border-radius:12px; font-weight:700; letter-spacing:.2px;\r\n    border:1px solid rgba(255,255,255,0.12);\r\n    background:\r\n      radial-gradient(120% 120% at 0% 0%, color-mix(in oklab, var(--glow) 26%, transparent), transparent),\r\n      linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0));\r\n    box-shadow: 0 0 0 rgba(0,0,0,0), inset 0 0 0 rgba(0,0,0,0);\r\n    transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .3s ease;\r\n    white-space:nowrap;\r\n  }\r\n  .btn:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--glow) 35%, white 0%); box-shadow: 0 10px 40px color-mix(in oklab, var(--glow) 15%, transparent) }\r\n  .btn:focus-visible{ outline:none; box-shadow: var(--focus) }\r\n  .btn.gradient{\r\n    position:relative; overflow:hidden;\r\n  }\r\n  .btn.gradient::before{\r\n    content:\"\"; position:absolute; inset:-2px; border-radius:inherit; padding:2px;\r\n    background: conic-gradient(from 180deg at 50% 50%, var(--accent), var(--accent-2), var(--accent-3), var(--accent));\r\n    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);\r\n    -webkit-mask-composite: xor; mask-composite: exclude; opacity:.6; filter: blur(0.8px);\r\n  }\r\n  .btn.small{ padding:8px 10px; font-weight:600 }\r\n\r\n  \/* Form grid *\/\r\n  .grid{\r\n    display:grid; gap:12px; grid-template-columns: repeat(12, 1fr); align-items:end;\r\n  }\r\n  .col-6{ grid-column: span 6 }\r\n  .col-4{ grid-column: span 4 }\r\n  .col-3{ grid-column: span 3 }\r\n  .col-8{ grid-column: span 8 }\r\n  .col-12{ grid-column: 1 \/ -1 }\r\n  @media (max-width: 1100px){\r\n    .app{ grid-template-columns: 78px 1fr }\r\n    .side .muted,.side .title{ display:none }\r\n    .brand{ justify-content:center }\r\n    .nav button{ justify-content:center; padding:10px }\r\n    .nav button span{ display:none }\r\n  }\r\n  @media (max-width: 860px){\r\n    .grid{ grid-template-columns: 1fr 1fr }\r\n    .col-6,.col-4,.col-3,.col-8,.col-12{ grid-column: auto }\r\n    .grid > *:last-child{ grid-column: 1 \/ -1}\r\n    .page-head{ gap:10px }\r\n  }\r\n  @media (max-width: 520px){\r\n    .grid{ grid-template-columns: 1fr }\r\n  }\r\n  label{ display:block; font-size:12px; color:var(--muted); margin: 4px 2px 6px }\r\n  input, select, textarea{\r\n    width:100%;\r\n    padding:12px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);\r\n    background: rgba(255,255,255,0.02); color:var(--text); font-size:14px;\r\n    transition:border-color .2s ease, background .2s ease;\r\n  }\r\n  input::placeholder{ color:#7c8294 }\r\n  input:focus, select:focus, textarea:focus{ outline:none; border-color: rgba(157,255,234,0.55); box-shadow: var(--focus) }\r\n  .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }\r\n  .result{\r\n    border:1px solid rgba(255,255,255,0.10); border-radius:14px; padding:12px; background: rgba(255,255,255,0.02);\r\n    font-variant-numeric: tabular-nums; font-family:var(--mono);\r\n  }\r\n  .result strong{ letter-spacing:.2px }\r\n  .pill{\r\n    display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,0.14);\r\n    background:rgba(255,255,255,0.02); font-size:12px; color:var(--muted);\r\n  }\r\n  .split{\r\n    display:grid; grid-template-columns: 1.1fr .9fr; gap:16px;\r\n  }\r\n  @media (max-width: 1000px){ .split{ grid-template-columns: 1fr } }\r\n\r\n  .table{\r\n    width:100%; border-collapse: collapse; overflow: hidden; border-radius:12px; border:1px solid rgba(255,255,255,0.12); margin-top:10px;\r\n  }\r\n  .table th, .table td{\r\n    padding:10px 12px; border-bottom:1px solid rgba(255,255,255,0.08); font-variant-numeric: tabular-nums; text-align:right;\r\n  }\r\n  .table th:first-child, .table td:first-child{ text-align:left }\r\n  .table thead th{ position:sticky; top:0; background:rgba(255,255,255,0.03); backdrop-filter: blur(6px); z-index:1 }\r\n\r\n  \/* Fullscreen hint *\/\r\n  .fs-hint{ font-size:12px; color:var(--muted) }\r\n\r\n  \/* Mini badge *\/\r\n  .badge{\r\n    display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;\r\n    border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.02);\r\n    font-size:12px; color:var(--muted)\r\n  }\r\n  .kpi{\r\n    display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-top:8px;\r\n  }\r\n  @media (max-width: 720px){ .kpi{ grid-template-columns: 1fr } }\r\n  .kpi .card{\r\n    padding:14px; border:1px solid rgba(255,255,255,0.12); border-radius:14px;\r\n    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));\r\n    font-family:var(--mono); font-size:14px;\r\n  }\r\n  .subtle{ color:var(--muted); font-size:12px; margin-top:2px }\r\n\r\n  \/* Help line *\/\r\n  .help{ font-size:12px; color:var(--muted); margin-top:6px }\r\n\r\n  \/* Footer *\/\r\n  .footer{\r\n    margin:18px 0 8px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; color:var(--muted);\r\n    font-size:12px;\r\n  }\r\n<\/style>\r\n<\/head>\r\n<body>\r\n<div class=\"app\" id=\"app\">\r\n  <!-- SIDEBAR -->\r\n  <aside class=\"side\" aria-label=\"Tool Navigation\">\r\n    <div class=\"nav\" id=\"nav\">\r\n      <button class=\"active\" data-target=\"mortgage\" title=\"Mortgage Calculator\" aria-controls=\"mortgage\" aria-selected=\"true\">\r\n        <!-- icon -->\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\"><path d=\"M3 10.5 12 3l9 7.5v9a1.5 1.5 0 0 1-1.5 1.5H4.5A1.5 1.5 0 0 1 3 19.5v-9Z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Mortgage<\/span>\r\n      <\/button>\r\n      <button data-target=\"afford\" title=\"Affordability\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\"><path d=\"M4 6h16M4 12h16M4 18h16\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Affordability<\/span>\r\n      <\/button>\r\n      <button data-target=\"rentbuy\" title=\"Rent vs Buy\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M3 20h8V10H3v10Zm10 0h8V4h-8v16Z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Rent vs Buy<\/span>\r\n      <\/button>\r\n      <button data-target=\"roi\" title=\"ROI \/ Cap Rate\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 20V10m6 10V6m6 14V12m4 8H2\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>ROI & Cap Rate<\/span>\r\n      <\/button>\r\n      <button data-target=\"flip\" title=\"Flip \/ ARV\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 3v6l3-3m-3 3L9 6m11 8a8 8 0 1 1-16 0\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Flip Analyzer<\/span>\r\n      <\/button>\r\n      <button data-target=\"compare\" title=\"Property Compare\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 6h6v12H4zM14 10h6v8h-6z\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Compare<\/span>\r\n      <\/button>\r\n      <button data-target=\"convert\" title=\"Converters\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M3 8h10M11 4h10M3 20h10M11 16h10\" stroke=\"white\" stroke-opacity=\".9\"\/><\/svg>\r\n        <span>Converters<\/span>\r\n      <\/button>\r\n    <\/div>\r\n    <div style=\"margin-top:18px\" class=\"muted\">Tip: every tool supports <strong>Full-Screen<\/strong> for spacious use.<\/div>\r\n  <\/aside>\r\n\r\n  <!-- MAIN -->\r\n  <main class=\"main\">\r\n    <div class=\"page-head\">\r\n      <div class=\"h1\">Real-Estate Toolkit<\/div>\r\n    <\/div>\r\n\r\n    <!-- Mortgage -->\r\n    <section class=\"tool active\" id=\"mortgage\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Mortgage Calculator & Amortization<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"mortgage\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"split\">\r\n        <div>\r\n          <div class=\"grid\">\r\n            <div class=\"col-6\">\r\n              <label>Home Price<\/label>\r\n              <input type=\"number\" inputmode=\"decimal\" id=\"m_price\" placeholder=\"e.g., 2000000\" value=\"2000000\" \/>\r\n            <\/div>\r\n            <div class=\"col-3\">\r\n              <label>Down Payment (%)<\/label>\r\n              <input type=\"number\" id=\"m_dp\" placeholder=\"20\" value=\"20\" \/>\r\n            <\/div>\r\n            <div class=\"col-3\">\r\n              <label>Interest Rate (%\/yr)<\/label>\r\n              <input type=\"number\" id=\"m_rate\" placeholder=\"4.5\" value=\"4.5\" step=\"0.01\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Term (years)<\/label>\r\n              <input type=\"number\" id=\"m_term\" placeholder=\"25\" value=\"25\" \/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Property Tax (annual)<\/label>\r\n              <input type=\"number\" id=\"m_tax\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Insurance (annual)<\/label>\r\n              <input type=\"number\" id=\"m_ins\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>HOA (monthly)<\/label>\r\n              <input type=\"number\" id=\"m_hoa\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-8\">\r\n              <label>Extra Monthly Principal (optional)<\/label>\r\n              <input type=\"number\" id=\"m_extra\" placeholder=\"0\" value=\"0\" \/>\r\n            <\/div>\r\n            <div class=\"col-12 row\">\r\n              <button class=\"btn gradient\" id=\"m_calc\">Calculate<\/button>\r\n              <span class=\"fs-hint\">Press <kbd>Enter<\/kbd> in any field to re-calculate.<\/span>\r\n            <\/div>\r\n          <\/div>\r\n\r\n          <div class=\"kpi\" id=\"m_kpi\">\r\n            <div class=\"card\"><div class=\"subtle\">Monthly Payment<\/div><div id=\"m_out_month\">\u2014<\/div><\/div>\r\n            <div class=\"card\"><div class=\"subtle\">Loan Amount<\/div><div id=\"m_out_loan\">\u2014<\/div><\/div>\r\n            <div class=\"card\"><div class=\"subtle\">Total Interest<\/div><div id=\"m_out_interest\">\u2014<\/div><\/div>\r\n          <\/div>\r\n          <div class=\"help\">Breakdown includes principal & interest + tax\/insurance\/HOA as provided.<\/div>\r\n        <\/div>\r\n\r\n        <div>\r\n          <div class=\"row\">\r\n            <span class=\"badge\">Amortization Schedule<\/span>\r\n            <button class=\"btn small\" id=\"m_export\">Export CSV<\/button>\r\n          <\/div>\r\n          <div style=\"max-height:360px; overflow:auto; margin-top:10px; border-radius:14px;\">\r\n            <table class=\"table\" id=\"m_table\" aria-label=\"Amortization Table\">\r\n              <thead>\r\n                <tr><th>Month<\/th><th>Payment<\/th><th>Principal<\/th><th>Interest<\/th><th>Balance<\/th><\/tr>\r\n              <\/thead>\r\n              <tbody><\/tbody>\r\n            <\/table>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"footer\"><div>Pro tip: use extra principal to see payoff accelerate.<\/div><\/div>\r\n    <\/section>\r\n\r\n    <!-- Affordability -->\r\n    <section class=\"tool\" id=\"afford\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Home Affordability<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"afford\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Annual Income<\/label>\r\n          <input id=\"a_income\" type=\"number\" value=\"360000\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Debts<\/label>\r\n          <input id=\"a_debts\" type=\"number\" value=\"2000\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Down Payment (AED)<\/label>\r\n          <input id=\"a_dp\" type=\"number\" value=\"400000\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Interest Rate (%\/yr)<\/label>\r\n          <input id=\"a_rate\" type=\"number\" step=\"0.01\" value=\"4.5\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Term (years)<\/label>\r\n          <input id=\"a_term\" type=\"number\" value=\"25\" \/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>DTI Target (%)<\/label>\r\n          <input id=\"a_dti\" type=\"number\" value=\"36\" \/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"a_calc\">Calculate<\/button>\r\n          <span class=\"fs-hint\">Uses front-end\/back-end DTI logic simplification.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Max Monthly Payment<\/div><div id=\"a_maxpay\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Max Loan Amount<\/div><div id=\"a_maxloan\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Max Home Price (incl. DP)<\/div><div id=\"a_maxprice\">\u2014<\/div><\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Rent vs Buy -->\r\n    <section class=\"tool\" id=\"rentbuy\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Rent vs Buy (Hold-period Analysis)<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"rentbuy\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Home Price<\/label>\r\n          <input id=\"rb_price\" type=\"number\" value=\"1800000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Down Payment (%)<\/label>\r\n          <input id=\"rb_dp\" type=\"number\" value=\"20\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rate (%\/yr)<\/label>\r\n          <input id=\"rb_rate\" type=\"number\" step=\"0.01\" value=\"4.5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Term (years)<\/label>\r\n          <input id=\"rb_term\" type=\"number\" value=\"25\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Property Tax (annual)<\/label>\r\n          <input id=\"rb_tax\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Insurance (annual)<\/label>\r\n          <input id=\"rb_ins\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>HOA (monthly)<\/label>\r\n          <input id=\"rb_hoa\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Maintenance (% of price \/ yr)<\/label>\r\n          <input id=\"rb_maint\" type=\"number\" value=\"1.0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Home Appreciation (%\/yr)<\/label>\r\n          <input id=\"rb_app\" type=\"number\" value=\"3\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Holding Period (years)<\/label>\r\n          <input id=\"rb_hold\" type=\"number\" value=\"5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Selling Costs (% of final price)<\/label>\r\n          <input id=\"rb_sell\" type=\"number\" value=\"2\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Rent (today)<\/label>\r\n          <input id=\"rb_rent\" type=\"number\" value=\"7000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rent Growth (%\/yr)<\/label>\r\n          <input id=\"rb_rentg\" type=\"number\" value=\"3\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Alt. Investment Return (%\/yr on DP)<\/label>\r\n          <input id=\"rb_return\" type=\"number\" value=\"5\"\/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"rb_calc\">Analyze<\/button>\r\n          <span class=\"fs-hint\">Considers mortgage, T&I, HOA, maintenance, rent growth & opportunity cost.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Total Cost of Owning (Hold)<\/div><div id=\"rb_cost_own\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Total Cost of Renting (Hold)<\/div><div id=\"rb_cost_rent\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Recommendation<\/div><div id=\"rb_reco\">\u2014<\/div><\/div>\r\n      <\/div>\r\n      <div class=\"help\">\u201cCost of Owning\u201d is net of equity gained and sale proceeds (after selling costs). \u201cCost of Renting\u201d includes the opportunity cost of the down payment invested elsewhere.<\/div>\r\n    <\/section>\r\n\r\n    <!-- ROI & Cap Rate -->\r\n    <section class=\"tool\" id=\"roi\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Rental ROI \u2022 NOI \u2022 Cap Rate \u2022 Cash-on-Cash<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"roi\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Purchase Price<\/label>\r\n          <input id=\"r_price\" type=\"number\" value=\"1200000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rehab \/ Make-Ready<\/label>\r\n          <input id=\"r_rehab\" type=\"number\" value=\"60000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Closing Costs<\/label>\r\n          <input id=\"r_close\" type=\"number\" value=\"20000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Rent (gross)<\/label>\r\n          <input id=\"r_rent\" type=\"number\" value=\"6500\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Vacancy (%)<\/label>\r\n          <input id=\"r_vac\" type=\"number\" value=\"5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Mgmt (%)<\/label>\r\n          <input id=\"r_mgmt\" type=\"number\" value=\"8\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Maintenance (%)<\/label>\r\n          <input id=\"r_maint\" type=\"number\" value=\"6\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Taxes (annual)<\/label>\r\n          <input id=\"r_tax\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Insurance (annual)<\/label>\r\n          <input id=\"r_ins\" type=\"number\" value=\"0\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Loan Amount<\/label>\r\n          <input id=\"r_loan\" type=\"number\" value=\"840000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Interest Rate (%\/yr)<\/label>\r\n          <input id=\"r_rate\" type=\"number\" step=\"0.01\" value=\"4.5\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Term (years)<\/label>\r\n          <input id=\"r_term\" type=\"number\" value=\"25\"\/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"r_calc\">Calculate<\/button>\r\n          <span class=\"fs-hint\">Includes debt service for cash-flow & CoC.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">NOI (annual)<\/div><div id=\"r_noi\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Cap Rate<\/div><div id=\"r_cap\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Cash Flow (annual)<\/div><div id=\"r_cf\">\u2014<\/div><\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Cash Invested<\/div><div id=\"r_cashinv\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Cash-on-Cash<\/div><div id=\"r_coc\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Monthly P&I<\/div><div id=\"r_pmt\">\u2014<\/div><\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Flip Analyzer -->\r\n    <section class=\"tool\" id=\"flip\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Flip \/ ARV Profitability<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"flip\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <div class=\"col-4\">\r\n          <label>Purchase Price<\/label>\r\n          <input id=\"f_price\" type=\"number\" value=\"900000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Rehab Budget<\/label>\r\n          <input id=\"f_rehab\" type=\"number\" value=\"200000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Holding Months<\/label>\r\n          <input id=\"f_months\" type=\"number\" value=\"6\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Monthly Holding Costs<\/label>\r\n          <input id=\"f_hold\" type=\"number\" value=\"8000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>ARV (After Repair Value)<\/label>\r\n          <input id=\"f_arv\" type=\"number\" value=\"1300000\"\/>\r\n        <\/div>\r\n        <div class=\"col-4\">\r\n          <label>Selling Costs (% of ARV)<\/label>\r\n          <input id=\"f_sell\" type=\"number\" value=\"2.5\"\/>\r\n        <\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"f_calc\">Calculate<\/button>\r\n          <span class=\"fs-hint\">Quick flip feasibility snapshot.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"kpi\">\r\n        <div class=\"card\"><div class=\"subtle\">Total Cost (All-in)<\/div><div id=\"f_cost\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Estimated Profit<\/div><div id=\"f_profit\">\u2014<\/div><\/div>\r\n        <div class=\"card\"><div class=\"subtle\">Profit Margin<\/div><div id=\"f_margin\">\u2014<\/div><\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Property Compare -->\r\n    <section class=\"tool\" id=\"compare\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Property Comparison (3 side-by-side)<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"compare\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"grid\">\r\n        <!-- For three properties -->\r\n        <template id=\"propRow\">\r\n          <div class=\"col-4\">\r\n            <label>Label \/ Name<\/label><input type=\"text\" placeholder=\"e.g., Marina Apt A\"\/>\r\n            <label>Price<\/label><input type=\"number\" placeholder=\"e.g., 1500000\" value=\"1500000\"\/>\r\n            <label>Size (sqft)<\/label><input type=\"number\" placeholder=\"e.g., 920\" value=\"900\"\/>\r\n            <label>Monthly Rent<\/label><input type=\"number\" placeholder=\"e.g., 6500\" value=\"6500\"\/>\r\n            <label>Annual Expenses<\/label><input type=\"number\" placeholder=\"e.g., 12000\" value=\"12000\"\/>\r\n          <\/div>\r\n        <\/template>\r\n        <div id=\"compareGrid\" class=\"grid col-12\" style=\"grid-template-columns: repeat(3,1fr); gap:14px\"><\/div>\r\n        <div class=\"col-12 row\">\r\n          <button class=\"btn gradient\" id=\"c_calc\">Compare<\/button>\r\n          <span class=\"fs-hint\">Shows price\/sqft & rough Cap Rate.<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      <div style=\"margin-top:10px; overflow:auto\">\r\n        <table class=\"table\" id=\"c_table\" aria-label=\"Comparison Table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Property<\/th><th>Price<\/th><th>Size (sqft)<\/th><th>Price\/sqft<\/th><th>Rent (mo)<\/th><th>Expenses (yr)<\/th><th>NOI (yr)<\/th><th>Cap Rate<\/th>\r\n            <\/tr>\r\n          <\/thead>\r\n          <tbody><\/tbody>\r\n        <\/table>\r\n      <\/div>\r\n    <\/section>\r\n\r\n    <!-- Converters -->\r\n    <section class=\"tool\" id=\"convert\" tabindex=\"0\">\r\n      <div class=\"tool-head\">\r\n        <div class=\"tool-title\">Handy Converters (Area \u2022 Currency \u2022 ROI)<\/div>\r\n        <div class=\"tool-actions\">\r\n          <button class=\"btn gradient\" data-action=\"reset\" data-scope=\"convert\">Reset<\/button>\r\n          <button class=\"btn\" data-action=\"fullscreen\">Full-Screen<\/button>\r\n        <\/div>\r\n      <\/div>\r\n\r\n      <div class=\"grid\">\r\n        <div class=\"col-6\">\r\n          <span class=\"badge\">Area<\/span>\r\n          <div class=\"grid\" style=\"margin-top:8px\">\r\n            <div class=\"col-6\">\r\n              <label>Square Feet<\/label>\r\n              <input id=\"cv_sqft\" type=\"number\" value=\"1000\"\/>\r\n            <\/div>\r\n            <div class=\"col-6\">\r\n              <label>Square Meters<\/label>\r\n              <input id=\"cv_sqm\" type=\"number\" value=\"92.903\"\/>\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"help\">Auto-syncs both ways (1 sqm = 10.7639 sqft).<\/div>\r\n        <\/div>\r\n        <div class=\"col-6\">\r\n          <span class=\"badge\">Currency (manual rate)<\/span>\r\n          <div class=\"grid\" style=\"margin-top:8px\">\r\n            <div class=\"col-4\">\r\n              <label>Amount (AED)<\/label>\r\n              <input id=\"cv_aed\" type=\"number\" value=\"100000\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>\u2192 USD at rate<\/label>\r\n              <input id=\"cv_rate\" type=\"number\" value=\"0.2723\" step=\"0.0001\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>USD (calc)<\/label>\r\n              <input id=\"cv_usd\" type=\"number\" value=\"27230\" \/>\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"help\">No live feeds (offline-friendly). Adjust rate as needed.<\/div>\r\n        <\/div>\r\n\r\n        <div class=\"col-12\">\r\n          <span class=\"badge\">Quick ROI (single-period)<\/span>\r\n          <div class=\"grid\" style=\"margin-top:8px\">\r\n            <div class=\"col-4\">\r\n              <label>Investment (Cash In)<\/label>\r\n              <input id=\"cv_invest\" type=\"number\" value=\"200000\"\/>\r\n            <\/div>\r\n            <div class=\"col-4\">\r\n              <label>Return (Cash Out)<\/label>\r\n              <input id=\"cv_return\" type=\"number\" value=\"230000\"\/>\r\n            <\/div>\r\n            <div class=\"col-4 row\">\r\n              <button class=\"btn gradient\" id=\"cv_roi_btn\">Compute ROI<\/button>\r\n              <span class=\"pill\">ROI: <strong id=\"cv_roi\">\u2014<\/strong><\/span>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/section>\r\n\r\n  <\/main>\r\n<\/div>\r\n\r\n<script>\r\n(() => {\r\n  const $ = sel => document.querySelector(sel);\r\n  const $$ = sel => [...document.querySelectorAll(sel)];\r\n  const fmt = (n) => {\r\n    if (!isFinite(n)) return \"\u2014\";\r\n    return new Intl.NumberFormat(undefined, {maximumFractionDigits:0}).format(n);\r\n  };\r\n  const money = (n, currency=\"AED\") => {\r\n    if (!isFinite(n)) return \"\u2014\";\r\n    return new Intl.NumberFormat(undefined, {style:'currency', currency}).format(n);\r\n  };\r\n  const num = (v) => {\r\n    const n = parseFloat(v); return isNaN(n) ? 0 : n;\r\n  };\r\n\r\n  \/* Navigation *\/\r\n  const nav = $('#nav');\r\n  const tools = $$('.tool');\r\n  nav.addEventListener('click', (e)=>{\r\n    const btn = e.target.closest('button[data-target]');\r\n    if(!btn) return;\r\n    const id = btn.getAttribute('data-target');\r\n    $$('#nav button').forEach(b => b.classList.toggle('active', b===btn));\r\n    tools.forEach(t => t.classList.toggle('active', t.id===id));\r\n    const activeTool = $('#'+id);\r\n    activeTool?.scrollIntoView({behavior:'smooth', block:'start'});\r\n    activeTool?.focus({preventScroll:true});\r\n  });\r\n\r\n  \/* Fullscreen *\/\r\n  document.addEventListener('click', (e)=>{\r\n    const fsBtn = e.target.closest('button[data-action=\"fullscreen\"]');\r\n    if (fsBtn){\r\n      const tool = e.target.closest('.tool');\r\n      if (!document.fullscreenElement) tool?.requestFullscreen?.();\r\n      else document.exitFullscreen?.();\r\n    }\r\n  });\r\n\r\n  \/* Reset per tool *\/\r\n  document.addEventListener('click', (e)=>{\r\n    const resetBtn = e.target.closest('button[data-action=\"reset\"]');\r\n    if(!resetBtn) return;\r\n    const scope = resetBtn.getAttribute('data-scope');\r\n    const wrap = document.getElementById(scope);\r\n    wrap.querySelectorAll('input').forEach(inp => inp.value = inp.defaultValue ?? '');\r\n    \/\/ Trigger any displays to clear\r\n    if(scope==='mortgage'){ m_calc(); }\r\n    if(scope==='afford'){ a_calc(); }\r\n    if(scope==='rentbuy'){ rb_calc(); }\r\n    if(scope==='roi'){ r_calc(); }\r\n    if(scope==='flip'){ f_calc(); }\r\n    if(scope==='compare'){ c_seed(); $('#c_table tbody').innerHTML=''; }\r\n    if(scope==='convert'){ sync_sqft('sqft'); sync_currency('aed'); $('#cv_roi').textContent='\u2014'; }\r\n  });\r\n\r\n  \/* ========== Mortgage ========== *\/\r\n  const m_inputs = ['#m_price','#m_dp','#m_rate','#m_term','#m_tax','#m_ins','#m_hoa','#m_extra'].map($);\r\n  const m_table = $('#m_table tbody');\r\n  function pmt(rate, nper, pv){ \/\/ monthly payment\r\n    if (rate===0) return -(pv \/ nper);\r\n    const r = rate; return -(pv * r) \/ (1 - Math.pow(1+r, -nper));\r\n  }\r\n  function m_buildSchedule(loan, rateYear, termYears, extra){\r\n    const r = rateYear\/100\/12, n = termYears*12;\r\n    const sched = [];\r\n    let bal = loan;\r\n    const basePmt = -pmt(r, n, loan); \/\/ positive\r\n    let month = 1, totalInt = 0;\r\n    while(bal>0 && month<=n+600){\r\n      const interest = bal * r;\r\n      let principal = basePmt - interest + extra;\r\n      if (principal > bal) principal = bal;\r\n      const payment = principal + interest;\r\n      bal = Math.max(0, bal - principal);\r\n      totalInt += interest;\r\n      sched.push({month, payment, principal, interest, balance: bal});\r\n      month++;\r\n      if (bal<=0) break;\r\n    }\r\n    return {sched, basePmt, totalInt};\r\n  }\r\n  function m_calc(){\r\n    const price = num($('#m_price').value);\r\n    const dpPct = num($('#m_dp').value)\/100;\r\n    const rate = num($('#m_rate').value);\r\n    const term = num($('#m_term').value);\r\n    const tax = num($('#m_tax').value);\r\n    const ins = num($('#m_ins').value);\r\n    const hoa = num($('#m_hoa').value);\r\n    const extra = num($('#m_extra').value);\r\n\r\n    const loan = Math.max(0, price*(1-dpPct));\r\n    const {sched, basePmt, totalInt} = m_buildSchedule(loan, rate, term, extra);\r\n    const piti = basePmt + (tax\/12) + (ins\/12) + hoa + extra;\r\n\r\n    $('#m_out_month').textContent = money(piti);\r\n    $('#m_out_loan').textContent = money(loan);\r\n    $('#m_out_interest').textContent = money(totalInt);\r\n\r\n    \/\/ table\r\n    const rows = sched.slice(0, 360); \/\/ keep UI snappy\r\n    m_table.innerHTML = rows.map(r => `<tr>\r\n      <td>${r.month}<\/td>\r\n      <td>${money(r.payment + extra)}<\/td>\r\n      <td>${money(r.principal)}<\/td>\r\n      <td>${money(r.interest)}<\/td>\r\n      <td>${money(r.balance)}<\/td>\r\n    <\/tr>`).join('');\r\n    \/\/ store for CSV\r\n    window.__m_sched = sched;\r\n  }\r\n  $('#m_calc').addEventListener('click', m_calc);\r\n  m_inputs.forEach(i => i.addEventListener('keydown', e=>{ if(e.key==='Enter'){ m_calc(); }}));\r\n  \/\/ Export CSV\r\n  $('#m_export').addEventListener('click', ()=>{\r\n    const sched = window.__m_sched || [];\r\n    let csv = \"Month,Payment,Principal,Interest,Balance\\n\";\r\n    for(const r of sched){\r\n      csv += `${r.month},${(r.payment).toFixed(2)},${(r.principal).toFixed(2)},${(r.interest).toFixed(2)},${(r.balance).toFixed(2)}\\n`;\r\n    }\r\n    const blob = new Blob([csv], {type:'text\/csv'});\r\n    const url = URL.createObjectURL(blob);\r\n    const a = Object.assign(document.createElement('a'), {href:url, download:'amortization.csv'});\r\n    document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);\r\n  });\r\n  m_calc();\r\n\r\n  \/* ========== Affordability ========== *\/\r\n  function a_calc(){\r\n    const income = num($('#a_income').value);\r\n    const debts = num($('#a_debts').value);\r\n    const dp = num($('#a_dp').value);\r\n    const rate = num($('#a_rate').value)\/100\/12;\r\n    const term = num($('#a_term').value)*12;\r\n    const dti = num($('#a_dti').value)\/100;\r\n\r\n    const maxMonthly = Math.max(0, (income\/12)*dti - debts);\r\n    \/\/ invert PMT to get PV\r\n    const pv = rate===0 ? maxMonthly*term : maxMonthly*(1 - Math.pow(1+rate, -term))\/rate;\r\n    const maxLoan = Math.max(0, pv);\r\n    const maxPrice = maxLoan + dp;\r\n\r\n    $('#a_maxpay').textContent = money(maxMonthly);\r\n    $('#a_maxloan').textContent = money(maxLoan);\r\n    $('#a_maxprice').textContent = money(maxPrice);\r\n  }\r\n  $('#a_calc').addEventListener('click', a_calc);\r\n  a_calc();\r\n\r\n  \/* ========== Rent vs Buy ========== *\/\r\n  function rb_monthly(rateY, termY, loan){ return -pmt(rateY\/100\/12, termY*12, loan); }\r\n  function rb_future(value, growth, years){ return value*Math.pow(1+growth, years); }\r\n\r\n  function rb_calc(){\r\n    const price = num($('#rb_price').value);\r\n    const dpPct = num($('#rb_dp').value)\/100;\r\n    const rate = num($('#rb_rate').value);\r\n    const term = num($('#rb_term').value);\r\n    const tax = num($('#rb_tax').value);\r\n    const ins = num($('#rb_ins').value);\r\n    const hoa = num($('#rb_hoa').value);\r\n    const maintPct = num($('#rb_maint').value)\/100;\r\n    const app = num($('#rb_app').value)\/100;\r\n    const hold = num($('#rb_hold').value);\r\n    const sellPct = num($('#rb_sell').value)\/100;\r\n    const rent0 = num($('#rb_rent').value);\r\n    const rentg = num($('#rb_rentg').value)\/100;\r\n    const ret = num($('#rb_return').value)\/100;\r\n\r\n    const loan = price*(1-dpPct);\r\n    const dpCash = price*dpPct;\r\n    const monthlyPI = rb_monthly(rate, term, loan);\r\n    \/\/ Owning costs over hold: PI + T&I + HOA + maint; equity & sale offset\r\n    let ownCost = 0, principalPaid = 0, balance = loan;\r\n    const r = rate\/100\/12, nTotal = Math.min(hold*12, term*12);\r\n    const basePmt = monthlyPI;\r\n    for(let m=1;m<=nTotal;m++){\r\n      const interest = balance*r;\r\n      let principal = basePmt - interest;\r\n      if (principal > balance) principal = balance;\r\n      balance = Math.max(0, balance - principal);\r\n      principalPaid += principal;\r\n      const maintenance = (price*Math.pow(1+app, (m-1)\/12))*maintPct\/12;\r\n      ownCost += basePmt + (tax\/12) + (ins\/12) + hoa + maintenance;\r\n    }\r\n    const priceFuture = rb_future(price, app, hold);\r\n    const saleProceeds = priceFuture*(1-sellPct);\r\n    const equityAtSale = Math.max(0, saleProceeds - balance);\r\n    const netOwnCost = ownCost - equityAtSale; \/\/ cost net of equity realized\r\n\r\n    \/\/ Renting costs: sum of rent series + opportunity cost of DP\r\n    let rentCost = 0;\r\n    for(let y=0;y<hold;y++){\r\n      const rentYear = rent0*Math.pow(1+rentg, y);\r\n      rentCost += rentYear*12;\r\n    }\r\n    const opp = dpCash*Math.pow(1+ret, hold) - dpCash; \/\/ growth you miss if buying\r\n    const totalRentCost = rentCost + opp;\r\n\r\n    $('#rb_cost_own').textContent = money(netOwnCost);\r\n    $('#rb_cost_rent').textContent = money(totalRentCost);\r\n    const diff = totalRentCost - netOwnCost;\r\n    let reco = '\u2014';\r\n    if (diff>0) reco = `Buy is favored by ${money(diff)} over ${hold} yrs`;\r\n    else if (diff<0) reco = `Rent is favored by ${money(-diff)} over ${hold} yrs`;\r\n    else reco = 'Break-even';\r\n    $('#rb_reco').textContent = reco;\r\n  }\r\n  $('#rb_calc').addEventListener('click', rb_calc);\r\n  rb_calc();\r\n\r\n  \/* ========== ROI \/ Cap Rate ========== *\/\r\n  function r_calc(){\r\n    const price = num($('#r_price').value);\r\n    const rehab = num($('#r_rehab').value);\r\n    const close = num($('#r_close').value);\r\n    const rent = num($('#r_rent').value);\r\n    const vac = num($('#r_vac').value)\/100;\r\n    const mgmt = num($('#r_mgmt').value)\/100;\r\n    const maint = num($('#r_maint').value)\/100;\r\n    const tax = num($('#r_tax').value);\r\n    const ins = num($('#r_ins').value);\r\n    const loan = num($('#r_loan').value);\r\n    const rate = num($('#r_rate').value)\/100\/12;\r\n    const term = num($('#r_term').value)*12;\r\n\r\n    const egi = rent*12*(1 - vac); \/\/ effective gross\r\n    const opEx = egi*mgmt + egi*maint + tax + ins;\r\n    const noi = egi - opEx;\r\n\r\n    const pmtVal = -pmt(rate, term, loan);\r\n    const debtService = pmtVal*12;\r\n\r\n    const cashFlow = noi - debtService;\r\n    const totalCost = price + rehab + close;\r\n    const cap = totalCost>0 ? (noi\/totalCost)*100 : 0;\r\n\r\n    const cashInvested = (price + rehab + close) - loan;\r\n    const coc = cashInvested>0 ? (cashFlow\/cashInvested)*100 : 0;\r\n\r\n    $('#r_noi').textContent = money(noi);\r\n    $('#r_cap').textContent = isFinite(cap) ? cap.toFixed(2) + '%' : '\u2014';\r\n    $('#r_cf').textContent = money(cashFlow);\r\n    $('#r_cashinv').textContent = money(cashInvested);\r\n    $('#r_coc').textContent = isFinite(coc) ? coc.toFixed(2) + '%' : '\u2014';\r\n    $('#r_pmt').textContent = money(pmtVal);\r\n  }\r\n  $('#r_calc').addEventListener('click', r_calc);\r\n  r_calc();\r\n\r\n  \/* ========== Flip Analyzer ========== *\/\r\n  function f_calc(){\r\n    const price = num($('#f_price').value);\r\n    const rehab = num($('#f_rehab').value);\r\n    const months = num($('#f_months').value);\r\n    const hold = num($('#f_hold').value);\r\n    const arv = num($('#f_arv').value);\r\n    const sellPct = num($('#f_sell').value)\/100;\r\n\r\n    const sellingCosts = arv*sellPct;\r\n    const totalCost = price + rehab + (hold*months) + sellingCosts;\r\n    const profit = arv - totalCost;\r\n    const margin = arv>0 ? (profit\/arv)*100 : 0;\r\n\r\n    $('#f_cost').textContent = money(totalCost);\r\n    $('#f_profit').textContent = money(profit);\r\n    $('#f_margin').textContent = (isFinite(margin)? margin.toFixed(2):'\u2014') + '%';\r\n  }\r\n  $('#f_calc').addEventListener('click', f_calc);\r\n  f_calc();\r\n\r\n  \/* ========== Comparison ========== *\/\r\n  function c_seed(){\r\n    const grid = $('#compareGrid'); grid.innerHTML='';\r\n    const tpl = $('#propRow');\r\n    for(let i=0;i<3;i++){\r\n      const node = tpl.content.cloneNode(true);\r\n      const wrap = document.createElement('div');\r\n      wrap.appendChild(node);\r\n      \/\/ title badge\r\n      const title = document.createElement('div');\r\n      title.className='badge'; title.style.margin='0 0 8px'; title.textContent = `Property ${i+1}`;\r\n      wrap.prepend(title);\r\n      grid.appendChild(wrap);\r\n    }\r\n  }\r\n  c_seed();\r\n  function c_calc(){\r\n    const rows = Array.from($('#compareGrid').querySelectorAll('div > div'));\r\n    const res = rows.map((col, idx)=>{\r\n      const [name, price, size, rent, exp] = Array.from(col.querySelectorAll('input'));\r\n      const p = num(price.value), s = num(size.value), r = num(rent.value), e = num(exp.value);\r\n      const ppsf = s>0 ? p\/s : 0;\r\n      const egi = r*12;\r\n      const noi = egi - e;\r\n      const cap = p>0 ? (noi\/p)*100 : 0;\r\n      return {name: name.value || `Property ${idx+1}`, price:p, size:s, ppsf, rent:r, exp:e, noi, cap};\r\n    });\r\n    $('#c_table tbody').innerHTML = res.map(o=>`\r\n      <tr>\r\n        <td>${o.name}<\/td>\r\n        <td>${money(o.price)}<\/td>\r\n        <td>${fmt(o.size)}<\/td>\r\n        <td>${money(o.ppsf)}<\/td>\r\n        <td>${money(o.rent)}<\/td>\r\n        <td>${money(o.exp)}<\/td>\r\n        <td>${money(o.noi)}<\/td>\r\n        <td>${isFinite(o.cap)? o.cap.toFixed(2)+'%':'\u2014'}<\/td>\r\n      <\/tr>\r\n    `).join('');\r\n  }\r\n  $('#c_calc').addEventListener('click', c_calc);\r\n\r\n  \/* ========== Converters ========== *\/\r\n  const SQM_TO_SQFT = 10.7639;\r\n  function sync_sqft(source){\r\n    const sqft = $('#cv_sqft'), sqm = $('#cv_sqm');\r\n    if(source==='sqft'){\r\n      const s = num(sqft.value); sqm.value = s \/ SQM_TO_SQFT;\r\n    }else{\r\n      const m = num(sqm.value); sqft.value = m * SQM_TO_SQFT;\r\n    }\r\n  }\r\n  $('#cv_sqft').addEventListener('input', ()=>sync_sqft('sqft'));\r\n  $('#cv_sqm').addEventListener('input', ()=>sync_sqft('sqm'));\r\n  sync_sqft('sqft');\r\n  function sync_currency(source){\r\n    const aed = $('#cv_aed'), rate = $('#cv_rate'), usd = $('#cv_usd');\r\n    const r = num(rate.value)||0;\r\n    if(source==='aed'){ usd.value = (num(aed.value)*r).toFixed(2); }\r\n    else if(source==='usd'){ aed.value = r>0 ? (num(usd.value)\/r).toFixed(2) : 0; }\r\n    else{ \/* rate *\/ usd.value = (num(aed.value)*r).toFixed(2); }\r\n  }\r\n  ['cv_aed','cv_rate'].forEach(id => $('#'+id).addEventListener('input', ()=>sync_currency('aed')));\r\n  $('#cv_usd').addEventListener('input', ()=>sync_currency('usd'));\r\n  sync_currency('aed');\r\n  $('#cv_roi_btn').addEventListener('click', ()=>{\r\n    const inv = num($('#cv_invest').value), ret = num($('#cv_return').value);\r\n    const roi = inv>0 ? ((ret-inv)\/inv)*100 : 0;\r\n    $('#cv_roi').textContent = isFinite(roi) ? roi.toFixed(2)+'%' : '\u2014';\r\n  });\r\n\r\n  \/* Keyboard: Enter re-calculate in active tool *\/\r\n  document.addEventListener('keydown', (e)=>{\r\n    if (e.key!=='Enter') return;\r\n    const active = document.querySelector('.tool.active');\r\n    if (!active) return;\r\n    if (active.id==='mortgage') m_calc();\r\n    if (active.id==='afford') a_calc();\r\n    if (active.id==='rentbuy') rb_calc();\r\n    if (active.id==='roi') r_calc();\r\n    if (active.id==='flip') f_calc();\r\n    if (active.id==='compare') c_calc();\r\n  });\r\n\r\n})();\r\n<\/script>\r\n<\/body>\r\n<\/html>\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t<div class=\"elementor-element elementor-element-769b04c e-con-full e-flex e-con e-parent\" data-id=\"769b04c\" data-element_type=\"container\">\n\t\t\t\t<div class=\"elementor-element elementor-element-b12b90f elementor-hidden-desktop elementor-widget elementor-widget-ucaddon_futuristic_typing_text_effect\" data-id=\"b12b90f\" data-element_type=\"widget\" data-widget_type=\"ucaddon_futuristic_typing_text_effect.default\">\n\t\t\t\t<div class=\"elementor-widget-container\">\n\t\t\t\t\t\n<!-- start Futuristic Typing Text Effect -->\n\n<p id=\"uc_futuristic_typing_text_effect_elementor_b12b90f\" style=\"text-align:center; color:#FFFFFF;\" class=\"heading\" data-target-resolver><\/p>\n<!-- end Futuristic Typing Text Effect -->\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t","protected":false},"excerpt":{"rendered":"<p>Real Estate Tools Mortgage Affordability Rent vs Buy ROI &#038; Cap Rate Flip Analyzer Compare Converters Tip: every tool supports Full-Screen for spacious use. Real-Estate Toolkit Mortgage Calculator &#038; Amortization Reset Full-Screen Home Price Down Payment (%) Interest Rate (%\/yr) Term (years) Property Tax (annual)&#8230;<\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"elementor_header_footer","meta":{"footnotes":""},"class_list":["post-721","page","type-page","status-publish","hentry"],"_links":{"self":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages\/721","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/comments?post=721"}],"version-history":[{"count":25,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages\/721\/revisions"}],"predecessor-version":[{"id":748,"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/pages\/721\/revisions\/748"}],"wp:attachment":[{"href":"http:\/\/spearheadproperties.local\/wp-json\/wp\/v2\/media?parent=721"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}